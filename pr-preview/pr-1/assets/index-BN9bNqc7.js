var uc=Object.defineProperty;var ni=e=>{throw TypeError(e)};var dc=(e,t,n)=>t in e?uc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Jt=(e,t,n)=>dc(e,typeof t!="symbol"?t+"":t,n),fc=(e,t,n)=>t.has(e)||ni("Cannot "+n);var si=(e,t,n)=>t.has(e)?ni("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);var gn=(e,t,n)=>(fc(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ir(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const _e={},Zt=[],_t=()=>{},hc=()=>!1,fs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rr=e=>e.startsWith("onUpdate:"),Re=Object.assign,Ar=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},pc=Object.prototype.hasOwnProperty,ue=(e,t)=>pc.call(e,t),Q=Array.isArray,en=e=>hs(e)==="[object Map]",_o=e=>hs(e)==="[object Set]",X=e=>typeof e=="function",ke=e=>typeof e=="string",Mt=e=>typeof e=="symbol",be=e=>e!==null&&typeof e=="object",mo=e=>(be(e)||X(e))&&X(e.then)&&X(e.catch),yo=Object.prototype.toString,hs=e=>yo.call(e),gc=e=>hs(e).slice(8,-1),vo=e=>hs(e)==="[object Object]",Nr=e=>ke(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,En=Ir(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ps=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_c=/-(\w)/g,Ze=ps(e=>e.replace(_c,(t,n)=>n?n.toUpperCase():"")),mc=/\B([A-Z])/g,Kt=ps(e=>e.replace(mc,"-$1").toLowerCase()),gs=ps(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rs=ps(e=>e?`on${gs(e)}`:""),Pt=(e,t)=>!Object.is(e,t),As=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},wo=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},yc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ri;const _s=()=>ri||(ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function we(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=ke(s)?Sc(s):we(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(ke(e)||be(e))return e}const vc=/;(?![^(]*\))/g,wc=/:([^]+)/,bc=/\/\*[^]*?\*\//g;function Sc(e){const t={};return e.replace(bc,"").split(vc).forEach(n=>{if(n){const s=n.split(wc);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function fn(e){let t="";if(ke(e))t=e;else if(Q(e))for(let n=0;n<e.length;n++){const s=fn(e[n]);s&&(t+=s+" ")}else if(be(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ec="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xc=Ir(Ec);function bo(e){return!!e||e===""}const So=e=>!!(e&&e.__v_isRef===!0),kt=e=>ke(e)?e:e==null?"":Q(e)||be(e)&&(e.toString===yo||!X(e.toString))?So(e)?kt(e.value):JSON.stringify(e,Eo,2):String(e),Eo=(e,t)=>So(t)?Eo(e,t.value):en(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[Ns(s,i)+" =>"]=r,n),{})}:_o(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ns(n))}:Mt(t)?Ns(t):be(t)&&!Q(t)&&!vo(t)?String(t):t,Ns=(e,t="")=>{var n;return Mt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Je;class Tc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Je;try{return Je=this,t()}finally{Je=n}}}on(){Je=this}off(){Je=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function kc(){return Je}let ge;const Os=new WeakSet;class xo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Je&&Je.active&&Je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Os.has(this)&&(Os.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ko(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ii(this),Io(this);const t=ge,n=st;ge=this,st=!0;try{return this.fn()}finally{Ro(this),ge=t,st=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Pr(t);this.deps=this.depsTail=void 0,ii(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Os.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xs(this)&&this.run()}get dirty(){return Xs(this)}}let To=0,xn,Tn;function ko(e,t=!1){if(e.flags|=8,t){e.next=Tn,Tn=e;return}e.next=xn,xn=e}function Or(){To++}function Cr(){if(--To>0)return;if(Tn){let t=Tn;for(Tn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xn;){let t=xn;for(xn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Io(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ro(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Pr(s),Ic(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function Xs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ao(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ao(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===On))return;e.globalVersion=On;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Xs(e)){e.flags&=-3;return}const n=ge,s=st;ge=e,st=!0;try{Io(e);const r=e.fn(e._value);(t.version===0||Pt(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ge=n,st=s,Ro(e),e.flags&=-3}}function Pr(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Pr(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ic(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let st=!0;const No=[];function Ut(){No.push(st),st=!1}function Lt(){const e=No.pop();st=e===void 0?!0:e}function ii(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ge;ge=void 0;try{t()}finally{ge=n}}}let On=0;class Rc{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ge||!st||ge===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ge)n=this.activeLink=new Rc(ge,this),ge.deps?(n.prevDep=ge.depsTail,ge.depsTail.nextDep=n,ge.depsTail=n):ge.deps=ge.depsTail=n,Oo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ge.depsTail,n.nextDep=void 0,ge.depsTail.nextDep=n,ge.depsTail=n,ge.deps===n&&(ge.deps=s)}return n}trigger(t){this.version++,On++,this.notify(t)}notify(t){Or();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Cr()}}}function Oo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Oo(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Zs=new WeakMap,Ht=Symbol(""),er=Symbol(""),Cn=Symbol("");function Oe(e,t,n){if(st&&ge){let s=Zs.get(e);s||Zs.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new Dr),r.map=s,r.key=n),r.track()}}function St(e,t,n,s,r,i){const o=Zs.get(e);if(!o){On++;return}const a=c=>{c&&c.trigger()};if(Or(),t==="clear")o.forEach(a);else{const c=Q(e),l=c&&Nr(n);if(c&&n==="length"){const u=Number(s);o.forEach((d,h)=>{(h==="length"||h===Cn||!Mt(h)&&h>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),l&&a(o.get(Cn)),t){case"add":c?l&&a(o.get("length")):(a(o.get(Ht)),en(e)&&a(o.get(er)));break;case"delete":c||(a(o.get(Ht)),en(e)&&a(o.get(er)));break;case"set":en(e)&&a(o.get(Ht));break}}Cr()}function Gt(e){const t=le(e);return t===e?t:(Oe(t,"iterate",Cn),Qe(e)?t:t.map(Ce))}function ms(e){return Oe(e=le(e),"iterate",Cn),e}const Ac={__proto__:null,[Symbol.iterator](){return Cs(this,Symbol.iterator,Ce)},concat(...e){return Gt(this).concat(...e.map(t=>Q(t)?Gt(t):t))},entries(){return Cs(this,"entries",e=>(e[1]=Ce(e[1]),e))},every(e,t){return vt(this,"every",e,t,void 0,arguments)},filter(e,t){return vt(this,"filter",e,t,n=>n.map(Ce),arguments)},find(e,t){return vt(this,"find",e,t,Ce,arguments)},findIndex(e,t){return vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return vt(this,"findLast",e,t,Ce,arguments)},findLastIndex(e,t){return vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ps(this,"includes",e)},indexOf(...e){return Ps(this,"indexOf",e)},join(e){return Gt(this).join(e)},lastIndexOf(...e){return Ps(this,"lastIndexOf",e)},map(e,t){return vt(this,"map",e,t,void 0,arguments)},pop(){return _n(this,"pop")},push(...e){return _n(this,"push",e)},reduce(e,...t){return oi(this,"reduce",e,t)},reduceRight(e,...t){return oi(this,"reduceRight",e,t)},shift(){return _n(this,"shift")},some(e,t){return vt(this,"some",e,t,void 0,arguments)},splice(...e){return _n(this,"splice",e)},toReversed(){return Gt(this).toReversed()},toSorted(e){return Gt(this).toSorted(e)},toSpliced(...e){return Gt(this).toSpliced(...e)},unshift(...e){return _n(this,"unshift",e)},values(){return Cs(this,"values",Ce)}};function Cs(e,t,n){const s=ms(e),r=s[t]();return s!==e&&!Qe(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Nc=Array.prototype;function vt(e,t,n,s,r,i){const o=ms(e),a=o!==e&&!Qe(e),c=o[t];if(c!==Nc[t]){const d=c.apply(e,i);return a?Ce(d):d}let l=n;o!==e&&(a?l=function(d,h){return n.call(this,Ce(d),h,e)}:n.length>2&&(l=function(d,h){return n.call(this,d,h,e)}));const u=c.call(o,l,s);return a&&r?r(u):u}function oi(e,t,n,s){const r=ms(e);let i=n;return r!==e&&(Qe(e)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,e)}):i=function(o,a,c){return n.call(this,o,Ce(a),c,e)}),r[t](i,...s)}function Ps(e,t,n){const s=le(e);Oe(s,"iterate",Cn);const r=s[t](...n);return(r===-1||r===!1)&&Lr(n[0])?(n[0]=le(n[0]),s[t](...n)):r}function _n(e,t,n=[]){Ut(),Or();const s=le(e)[t].apply(e,n);return Cr(),Lt(),s}const Oc=Ir("__proto__,__v_isRef,__isVue"),Co=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mt));function Cc(e){Mt(e)||(e=String(e));const t=le(this);return Oe(t,"has",e),t.hasOwnProperty(e)}class Po{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Bc:Lo:i?Uo:Mo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=Q(t);if(!r){let c;if(o&&(c=Ac[n]))return c;if(n==="hasOwnProperty")return Cc}const a=Reflect.get(t,n,De(t)?t:s);return(Mt(n)?Co.has(n):Oc(n))||(r||Oe(t,"get",n),i)?a:De(a)?o&&Nr(n)?a:a.value:be(a)?r?qo(a):ys(a):a}}class Do extends Po{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];if(!this._isShallow){const c=Vt(i);if(!Qe(s)&&!Vt(s)&&(i=le(i),s=le(s)),!Q(t)&&De(i)&&!De(s))return c?!1:(i.value=s,!0)}const o=Q(t)&&Nr(n)?Number(n)<t.length:ue(t,n),a=Reflect.set(t,n,s,De(t)?t:r);return t===le(r)&&(o?Pt(s,i)&&St(t,"set",n,s):St(t,"add",n,s)),a}deleteProperty(t,n){const s=ue(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&St(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Mt(n)||!Co.has(n))&&Oe(t,"has",n),s}ownKeys(t){return Oe(t,"iterate",Q(t)?"length":Ht),Reflect.ownKeys(t)}}class Pc extends Po{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Dc=new Do,Mc=new Pc,Uc=new Do(!0);const tr=e=>e,Bn=e=>Reflect.getPrototypeOf(e);function Lc(e,t,n){return function(...s){const r=this.__v_raw,i=le(r),o=en(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=r[e](...s),u=n?tr:t?nr:Ce;return!t&&Oe(i,"iterate",c?er:Ht),{next(){const{value:d,done:h}=l.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Hn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Fc(e,t){const n={get(r){const i=this.__v_raw,o=le(i),a=le(r);e||(Pt(r,a)&&Oe(o,"get",r),Oe(o,"get",a));const{has:c}=Bn(o),l=t?tr:e?nr:Ce;if(c.call(o,r))return l(i.get(r));if(c.call(o,a))return l(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Oe(le(r),"iterate",Ht),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=le(i),a=le(r);return e||(Pt(r,a)&&Oe(o,"has",r),Oe(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,c=le(a),l=t?tr:e?nr:Ce;return!e&&Oe(c,"iterate",Ht),a.forEach((u,d)=>r.call(i,l(u),l(d),o))}};return Re(n,e?{add:Hn("add"),set:Hn("set"),delete:Hn("delete"),clear:Hn("clear")}:{add(r){!t&&!Qe(r)&&!Vt(r)&&(r=le(r));const i=le(this);return Bn(i).has.call(i,r)||(i.add(r),St(i,"add",r,r)),this},set(r,i){!t&&!Qe(i)&&!Vt(i)&&(i=le(i));const o=le(this),{has:a,get:c}=Bn(o);let l=a.call(o,r);l||(r=le(r),l=a.call(o,r));const u=c.call(o,r);return o.set(r,i),l?Pt(i,u)&&St(o,"set",r,i):St(o,"add",r,i),this},delete(r){const i=le(this),{has:o,get:a}=Bn(i);let c=o.call(i,r);c||(r=le(r),c=o.call(i,r)),a&&a.call(i,r);const l=i.delete(r);return c&&St(i,"delete",r,void 0),l},clear(){const r=le(this),i=r.size!==0,o=r.clear();return i&&St(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Lc(r,e,t)}),n}function Mr(e,t){const n=Fc(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(ue(n,r)&&r in s?n:s,r,i)}const qc={get:Mr(!1,!1)},$c={get:Mr(!1,!0)},jc={get:Mr(!0,!1)};const Mo=new WeakMap,Uo=new WeakMap,Lo=new WeakMap,Bc=new WeakMap;function Hc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vc(e){return e.__v_skip||!Object.isExtensible(e)?0:Hc(gc(e))}function ys(e){return Vt(e)?e:Ur(e,!1,Dc,qc,Mo)}function Fo(e){return Ur(e,!1,Uc,$c,Uo)}function qo(e){return Ur(e,!0,Mc,jc,Lo)}function Ur(e,t,n,s,r){if(!be(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=Vc(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function tn(e){return Vt(e)?tn(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function Qe(e){return!!(e&&e.__v_isShallow)}function Lr(e){return e?!!e.__v_raw:!1}function le(e){const t=e&&e.__v_raw;return t?le(t):e}function Wc(e){return!ue(e,"__v_skip")&&Object.isExtensible(e)&&wo(e,"__v_skip",!0),e}const Ce=e=>be(e)?ys(e):e,nr=e=>be(e)?qo(e):e;function De(e){return e?e.__v_isRef===!0:!1}function ct(e){return $o(e,!1)}function sr(e){return $o(e,!0)}function $o(e,t){return De(e)?e:new zc(e,t)}class zc{constructor(t,n){this.dep=new Dr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:le(t),this._value=n?t:Ce(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Qe(t)||Vt(t);t=s?t:le(t),Pt(t,n)&&(this._rawValue=t,this._value=s?t:Ce(t),this.dep.trigger())}}function nn(e){return De(e)?e.value:e}const Kc={get:(e,t,n)=>t==="__v_raw"?e:nn(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return De(r)&&!De(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function jo(e){return tn(e)?e:new Proxy(e,Kc)}class Jc{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=On-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ge!==this)return ko(this,!0),!0}get value(){const t=this.dep.track();return Ao(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Gc(e,t,n=!1){let s,r;return X(e)?s=e:(s=e.get,r=e.set),new Jc(s,r,n)}const Vn={},ns=new WeakMap;let $t;function Yc(e,t=!1,n=$t){if(n){let s=ns.get(n);s||ns.set(n,s=[]),s.push(e)}}function Qc(e,t,n=_e){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:c}=n,l=E=>r?E:Qe(E)||r===!1||r===0?Ot(E,1):Ot(E);let u,d,h,g,w=!1,b=!1;if(De(e)?(d=()=>e.value,w=Qe(e)):tn(e)?(d=()=>l(e),w=!0):Q(e)?(b=!0,w=e.some(E=>tn(E)||Qe(E)),d=()=>e.map(E=>{if(De(E))return E.value;if(tn(E))return l(E);if(X(E))return c?c(E,2):E()})):X(e)?t?d=c?()=>c(e,2):e:d=()=>{if(h){Ut();try{h()}finally{Lt()}}const E=$t;$t=u;try{return c?c(e,3,[g]):e(g)}finally{$t=E}}:d=_t,t&&r){const E=d,V=r===!0?1/0:r;d=()=>Ot(E(),V)}const q=kc(),P=()=>{u.stop(),q&&q.active&&Ar(q.effects,u)};if(i&&t){const E=t;t=(...V)=>{E(...V),P()}}let N=b?new Array(e.length).fill(Vn):Vn;const A=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(t){const V=u.run();if(r||w||(b?V.some((B,W)=>Pt(B,N[W])):Pt(V,N))){h&&h();const B=$t;$t=u;try{const W=[V,N===Vn?void 0:b&&N[0]===Vn?[]:N,g];c?c(t,3,W):t(...W),N=V}finally{$t=B}}}else u.run()};return a&&a(A),u=new xo(d),u.scheduler=o?()=>o(A,!1):A,g=E=>Yc(E,!1,u),h=u.onStop=()=>{const E=ns.get(u);if(E){if(c)c(E,4);else for(const V of E)V();ns.delete(u)}},t?s?A(!0):N=u.run():o?o(A.bind(null,!0),!0):u.run(),P.pause=u.pause.bind(u),P.resume=u.resume.bind(u),P.stop=P,P}function Ot(e,t=1/0,n){if(t<=0||!be(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,De(e))Ot(e.value,t,n);else if(Q(e))for(let s=0;s<e.length;s++)Ot(e[s],t,n);else if(_o(e)||en(e))e.forEach(s=>{Ot(s,t,n)});else if(vo(e)){for(const s in e)Ot(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Ot(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $n(e,t,n,s){try{return s?e(...s):e()}catch(r){vs(r,t,n)}}function yt(e,t,n,s){if(X(e)){const r=$n(e,t,n,s);return r&&mo(r)&&r.catch(i=>{vs(i,t,n)}),r}if(Q(e)){const r=[];for(let i=0;i<e.length;i++)r.push(yt(e[i],t,n,s));return r}}function vs(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||_e;if(t){let a=t.parent;const c=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,c,l)===!1)return}a=a.parent}if(i){Ut(),$n(i,null,10,[e,c,l]),Lt();return}}Xc(e,n,r,s,o)}function Xc(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const Le=[];let dt=-1;const sn=[];let It=null,Qt=0;const Bo=Promise.resolve();let ss=null;function Ho(e){const t=ss||Bo;return e?t.then(this?e.bind(this):e):t}function Zc(e){let t=dt+1,n=Le.length;for(;t<n;){const s=t+n>>>1,r=Le[s],i=Pn(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function Fr(e){if(!(e.flags&1)){const t=Pn(e),n=Le[Le.length-1];!n||!(e.flags&2)&&t>=Pn(n)?Le.push(e):Le.splice(Zc(t),0,e),e.flags|=1,Vo()}}function Vo(){ss||(ss=Bo.then(zo))}function el(e){Q(e)?sn.push(...e):It&&e.id===-1?It.splice(Qt+1,0,e):e.flags&1||(sn.push(e),e.flags|=1),Vo()}function ai(e,t,n=dt+1){for(;n<Le.length;n++){const s=Le[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Le.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Wo(e){if(sn.length){const t=[...new Set(sn)].sort((n,s)=>Pn(n)-Pn(s));if(sn.length=0,It){It.push(...t);return}for(It=t,Qt=0;Qt<It.length;Qt++){const n=It[Qt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}It=null,Qt=0}}const Pn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function zo(e){try{for(dt=0;dt<Le.length;dt++){const t=Le[dt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),$n(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;dt<Le.length;dt++){const t=Le[dt];t&&(t.flags&=-2)}dt=-1,Le.length=0,Wo(),ss=null,(Le.length||sn.length)&&zo()}}let nt=null,Ko=null;function rs(e){const t=nt;return nt=e,Ko=e&&e.type.__scopeId||null,t}function tl(e,t=nt,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&_i(-1);const i=rs(t);let o;try{o=e(...r)}finally{rs(i),s._d&&_i(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ft(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(Ut(),yt(c,n,8,[e.el,a,e,t]),Lt())}}const nl=Symbol("_vte"),sl=e=>e.__isTeleport;function qr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,qr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Jo(e,t){return X(e)?Re({name:e.name},t,{setup:e}):e}function Go(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function is(e,t,n,s,r=!1){if(Q(e)){e.forEach((w,b)=>is(w,t&&(Q(t)?t[b]:t),n,s,r));return}if(kn(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&is(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?Hr(s.component):s.el,o=r?null:i,{i:a,r:c}=e,l=t&&t.r,u=a.refs===_e?a.refs={}:a.refs,d=a.setupState,h=le(d),g=d===_e?()=>!1:w=>ue(h,w);if(l!=null&&l!==c&&(ke(l)?(u[l]=null,g(l)&&(d[l]=null)):De(l)&&(l.value=null)),X(c))$n(c,a,12,[o,u]);else{const w=ke(c),b=De(c);if(w||b){const q=()=>{if(e.f){const P=w?g(c)?d[c]:u[c]:c.value;r?Q(P)&&Ar(P,i):Q(P)?P.includes(i)||P.push(i):w?(u[c]=[i],g(c)&&(d[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else w?(u[c]=o,g(c)&&(d[c]=o)):b&&(c.value=o,e.k&&(u[e.k]=o))};o?(q.id=-1,ze(q,n)):q()}}}_s().requestIdleCallback;_s().cancelIdleCallback;const kn=e=>!!e.type.__asyncLoader,Yo=e=>e.type.__isKeepAlive;function rl(e,t){Qo(e,"a",t)}function il(e,t){Qo(e,"da",t)}function Qo(e,t,n=Pe){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ws(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Yo(r.parent.vnode)&&ol(s,t,n,r),r=r.parent}}function ol(e,t,n,s){const r=ws(t,e,s,!0);Xo(()=>{Ar(s[t],r)},n)}function ws(e,t,n=Pe,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Ut();const a=jn(n),c=yt(t,n,e,o);return a(),Lt(),c});return s?r.unshift(i):r.push(i),i}}const xt=e=>(t,n=Pe)=>{(!Un||e==="sp")&&ws(e,(...s)=>t(...s),n)},al=xt("bm"),bs=xt("m"),cl=xt("bu"),ll=xt("u"),ul=xt("bum"),Xo=xt("um"),dl=xt("sp"),fl=xt("rtg"),hl=xt("rtc");function pl(e,t=Pe){ws("ec",e,t)}const gl="components";function _l(e,t){return yl(gl,e,!0,t)||e}const ml=Symbol.for("v-ndc");function yl(e,t,n=!0,s=!1){const r=nt||Pe;if(r){const i=r.type;{const a=au(i,!1);if(a&&(a===t||a===Ze(t)||a===gs(Ze(t))))return i}const o=ci(r[e]||i[e],t)||ci(r.appContext[e],t);return!o&&s?i:o}}function ci(e,t){return e&&(e[t]||e[Ze(t)]||e[gs(Ze(t))])}function vl(e,t,n,s){let r;const i=n,o=Q(e);if(o||ke(e)){const a=o&&tn(e);let c=!1;a&&(c=!Qe(e),e=ms(e)),r=new Array(e.length);for(let l=0,u=e.length;l<u;l++)r[l]=t(c?Ce(e[l]):e[l],l,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(be(e))if(e[Symbol.iterator])r=Array.from(e,(a,c)=>t(a,c,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];r[c]=t(e[u],u,c,i)}}else r=[];return r}const rr=e=>e?ya(e)?Hr(e):rr(e.parent):null,In=Re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rr(e.parent),$root:e=>rr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$r(e),$forceUpdate:e=>e.f||(e.f=()=>{Fr(e.update)}),$nextTick:e=>e.n||(e.n=Ho.bind(e.proxy)),$watch:e=>$l.bind(e)}),Ds=(e,t)=>e!==_e&&!e.__isScriptSetup&&ue(e,t),wl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(Ds(s,t))return o[t]=1,s[t];if(r!==_e&&ue(r,t))return o[t]=2,r[t];if((l=e.propsOptions[0])&&ue(l,t))return o[t]=3,i[t];if(n!==_e&&ue(n,t))return o[t]=4,n[t];ir&&(o[t]=0)}}const u=In[t];let d,h;if(u)return t==="$attrs"&&Oe(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==_e&&ue(n,t))return o[t]=4,n[t];if(h=c.config.globalProperties,ue(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return Ds(r,t)?(r[t]=n,!0):s!==_e&&ue(s,t)?(s[t]=n,!0):ue(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||e!==_e&&ue(e,o)||Ds(t,o)||(a=i[0])&&ue(a,o)||ue(s,o)||ue(In,o)||ue(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ue(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function li(e){return Q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ir=!0;function bl(e){const t=$r(e),n=e.proxy,s=e.ctx;ir=!1,t.beforeCreate&&ui(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:d,mounted:h,beforeUpdate:g,updated:w,activated:b,deactivated:q,beforeDestroy:P,beforeUnmount:N,destroyed:A,unmounted:E,render:V,renderTracked:B,renderTriggered:W,errorCaptured:ae,serverPrefetch:ie,expose:he,inheritAttrs:Ee,components:Ae,directives:xe,filters:Me}=t;if(l&&Sl(l,s,null),o)for(const I in o){const U=o[I];X(U)&&(s[I]=U.bind(n))}if(r){const I=r.call(n,n);be(I)&&(e.data=ys(I))}if(ir=!0,i)for(const I in i){const U=i[I],Z=X(U)?U.bind(n,n):X(U.get)?U.get.bind(n,n):_t,me=!X(U)&&X(U.set)?U.set.bind(n):_t,ee=Ye({get:Z,set:me});Object.defineProperty(s,I,{enumerable:!0,configurable:!0,get:()=>ee.value,set:ye=>ee.value=ye})}if(a)for(const I in a)Zo(a[I],s,n,I);if(c){const I=X(c)?c.call(n):c;Reflect.ownKeys(I).forEach(U=>{Jn(U,I[U])})}u&&ui(u,e,"c");function G(I,U){Q(U)?U.forEach(Z=>I(Z.bind(n))):U&&I(U.bind(n))}if(G(al,d),G(bs,h),G(cl,g),G(ll,w),G(rl,b),G(il,q),G(pl,ae),G(hl,B),G(fl,W),G(ul,N),G(Xo,E),G(dl,ie),Q(he))if(he.length){const I=e.exposed||(e.exposed={});he.forEach(U=>{Object.defineProperty(I,U,{get:()=>n[U],set:Z=>n[U]=Z})})}else e.exposed||(e.exposed={});V&&e.render===_t&&(e.render=V),Ee!=null&&(e.inheritAttrs=Ee),Ae&&(e.components=Ae),xe&&(e.directives=xe),ie&&Go(e)}function Sl(e,t,n=_t){Q(e)&&(e=or(e));for(const s in e){const r=e[s];let i;be(r)?"default"in r?i=mt(r.from||s,r.default,!0):i=mt(r.from||s):i=mt(r),De(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function ui(e,t,n){yt(Q(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Zo(e,t,n,s){let r=s.includes(".")?ha(n,s):()=>n[s];if(ke(e)){const i=t[e];X(i)&&Gn(r,i)}else if(X(e))Gn(r,e.bind(n));else if(be(e))if(Q(e))e.forEach(i=>Zo(i,t,n,s));else{const i=X(e.handler)?e.handler.bind(n):t[e.handler];X(i)&&Gn(r,i,e)}}function $r(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!r.length&&!n&&!s?c=t:(c={},r.length&&r.forEach(l=>os(c,l,o,!0)),os(c,t,o)),be(t)&&i.set(t,c),c}function os(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&os(e,i,n,!0),r&&r.forEach(o=>os(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=El[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const El={data:di,props:fi,emits:fi,methods:wn,computed:wn,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:wn,directives:wn,watch:Tl,provide:di,inject:xl};function di(e,t){return t?e?function(){return Re(X(e)?e.call(this,this):e,X(t)?t.call(this,this):t)}:t:e}function xl(e,t){return wn(or(e),or(t))}function or(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function wn(e,t){return e?Re(Object.create(null),e,t):t}function fi(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:Re(Object.create(null),li(e),li(t??{})):t}function Tl(e,t){if(!e)return t;if(!t)return e;const n=Re(Object.create(null),e);for(const s in t)n[s]=Ue(e[s],t[s]);return n}function ea(){return{app:null,config:{isNativeTag:hc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kl=0;function Il(e,t){return function(s,r=null){X(s)||(s=Re({},s)),r!=null&&!be(r)&&(r=null);const i=ea(),o=new WeakSet,a=[];let c=!1;const l=i.app={_uid:kl++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:lu,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&X(u.install)?(o.add(u),u.install(l,...d)):X(u)&&(o.add(u),u(l,...d))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,d){return d?(i.components[u]=d,l):i.components[u]},directive(u,d){return d?(i.directives[u]=d,l):i.directives[u]},mount(u,d,h){if(!c){const g=l._ceVNode||fe(s,r);return g.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),d&&t?t(g,u):e(g,u,h),c=!0,l._container=u,u.__vue_app__=l,Hr(g.component)}},onUnmount(u){a.push(u)},unmount(){c&&(yt(a,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(u,d){return i.provides[u]=d,l},runWithContext(u){const d=rn;rn=l;try{return u()}finally{rn=d}}};return l}}let rn=null;function Jn(e,t){if(Pe){let n=Pe.provides;const s=Pe.parent&&Pe.parent.provides;s===n&&(n=Pe.provides=Object.create(s)),n[e]=t}}function mt(e,t,n=!1){const s=Pe||nt;if(s||rn){const r=rn?rn._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&X(t)?t.call(s&&s.proxy):t}}const ta={},na=()=>Object.create(ta),sa=e=>Object.getPrototypeOf(e)===ta;function Rl(e,t,n,s=!1){const r={},i=na();e.propsDefaults=Object.create(null),ra(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:Fo(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Al(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=le(r),[c]=e.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Ss(e.emitsOptions,h))continue;const g=t[h];if(c)if(ue(i,h))g!==i[h]&&(i[h]=g,l=!0);else{const w=Ze(h);r[w]=ar(c,a,w,g,e,!1)}else g!==i[h]&&(i[h]=g,l=!0)}}}else{ra(e,t,r,i)&&(l=!0);let u;for(const d in a)(!t||!ue(t,d)&&((u=Kt(d))===d||!ue(t,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=ar(c,a,d,void 0,e,!0)):delete r[d]);if(i!==a)for(const d in i)(!t||!ue(t,d))&&(delete i[d],l=!0)}l&&St(e.attrs,"set","")}function ra(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(En(c))continue;const l=t[c];let u;r&&ue(r,u=Ze(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Ss(e.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=le(n),l=a||_e;for(let u=0;u<i.length;u++){const d=i[u];n[d]=ar(r,c,d,l[d],e,!ue(l,d))}}return o}function ar(e,t,n,s,r,i){const o=e[n];if(o!=null){const a=ue(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&X(c)){const{propsDefaults:l}=r;if(n in l)s=l[n];else{const u=jn(r);s=l[n]=c.call(null,t),u()}}else s=c;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Kt(n))&&(s=!0))}return s}const Nl=new WeakMap;function ia(e,t,n=!1){const s=n?Nl:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},a=[];let c=!1;if(!X(e)){const u=d=>{c=!0;const[h,g]=ia(d,t,!0);Re(o,h),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return be(e)&&s.set(e,Zt),Zt;if(Q(i))for(let u=0;u<i.length;u++){const d=Ze(i[u]);hi(d)&&(o[d]=_e)}else if(i)for(const u in i){const d=Ze(u);if(hi(d)){const h=i[u],g=o[d]=Q(h)||X(h)?{type:h}:Re({},h),w=g.type;let b=!1,q=!0;if(Q(w))for(let P=0;P<w.length;++P){const N=w[P],A=X(N)&&N.name;if(A==="Boolean"){b=!0;break}else A==="String"&&(q=!1)}else b=X(w)&&w.name==="Boolean";g[0]=b,g[1]=q,(b||ue(g,"default"))&&a.push(d)}}const l=[o,a];return be(e)&&s.set(e,l),l}function hi(e){return e[0]!=="$"&&!En(e)}const oa=e=>e[0]==="_"||e==="$stable",jr=e=>Q(e)?e.map(gt):[gt(e)],Ol=(e,t,n)=>{if(t._n)return t;const s=tl((...r)=>jr(t(...r)),n);return s._c=!1,s},aa=(e,t,n)=>{const s=e._ctx;for(const r in e){if(oa(r))continue;const i=e[r];if(X(i))t[r]=Ol(r,i,s);else if(i!=null){const o=jr(i);t[r]=()=>o}}},ca=(e,t)=>{const n=jr(t);e.slots.default=()=>n},la=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},Cl=(e,t,n)=>{const s=e.slots=na();if(e.vnode.shapeFlag&32){const r=t._;r?(la(s,t,n),n&&wo(s,"_",r,!0)):aa(t,s)}else t&&ca(e,t)},Pl=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=_e;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:la(r,t,n):(i=!t.$stable,aa(t,r)),o=t}else t&&(ca(e,t),o={default:1});if(i)for(const a in r)!oa(a)&&o[a]==null&&delete r[a]},ze=Kl;function Dl(e){return Ml(e)}function Ml(e,t){const n=_s();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:h,setScopeId:g=_t,insertStaticContent:w}=e,b=(f,p,m,S=null,y=null,x=null,D=void 0,C=null,O=!!p.dynamicChildren)=>{if(f===p)return;f&&!mn(f,p)&&(S=_(f),ye(f,y,x,!0),f=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:T,ref:J,shapeFlag:L}=p;switch(T){case Es:q(f,p,m,S);break;case Dn:P(f,p,m,S);break;case Ls:f==null&&N(p,m,S,D);break;case pt:Ae(f,p,m,S,y,x,D,C,O);break;default:L&1?V(f,p,m,S,y,x,D,C,O):L&6?xe(f,p,m,S,y,x,D,C,O):(L&64||L&128)&&T.process(f,p,m,S,y,x,D,C,O,$)}J!=null&&y&&is(J,f&&f.ref,x,p||f,!p)},q=(f,p,m,S)=>{if(f==null)s(p.el=a(p.children),m,S);else{const y=p.el=f.el;p.children!==f.children&&l(y,p.children)}},P=(f,p,m,S)=>{f==null?s(p.el=c(p.children||""),m,S):p.el=f.el},N=(f,p,m,S)=>{[f.el,f.anchor]=w(f.children,p,m,S,f.el,f.anchor)},A=({el:f,anchor:p},m,S)=>{let y;for(;f&&f!==p;)y=h(f),s(f,m,S),f=y;s(p,m,S)},E=({el:f,anchor:p})=>{let m;for(;f&&f!==p;)m=h(f),r(f),f=m;r(p)},V=(f,p,m,S,y,x,D,C,O)=>{p.type==="svg"?D="svg":p.type==="math"&&(D="mathml"),f==null?B(p,m,S,y,x,D,C,O):ie(f,p,y,x,D,C,O)},B=(f,p,m,S,y,x,D,C)=>{let O,T;const{props:J,shapeFlag:L,transition:H,dirs:Y}=f;if(O=f.el=o(f.type,x,J&&J.is,J),L&8?u(O,f.children):L&16&&ae(f.children,O,null,S,y,Ms(f,x),D,C),Y&&Ft(f,null,S,"created"),W(O,f,f.scopeId,D,S),J){for(const pe in J)pe!=="value"&&!En(pe)&&i(O,pe,null,J[pe],x,S);"value"in J&&i(O,"value",null,J.value,x),(T=J.onVnodeBeforeMount)&&at(T,S,f)}Y&&Ft(f,null,S,"beforeMount");const se=Ul(y,H);se&&H.beforeEnter(O),s(O,p,m),((T=J&&J.onVnodeMounted)||se||Y)&&ze(()=>{T&&at(T,S,f),se&&H.enter(O),Y&&Ft(f,null,S,"mounted")},y)},W=(f,p,m,S,y)=>{if(m&&g(f,m),S)for(let x=0;x<S.length;x++)g(f,S[x]);if(y){let x=y.subTree;if(p===x||ga(x.type)&&(x.ssContent===p||x.ssFallback===p)){const D=y.vnode;W(f,D,D.scopeId,D.slotScopeIds,y.parent)}}},ae=(f,p,m,S,y,x,D,C,O=0)=>{for(let T=O;T<f.length;T++){const J=f[T]=C?Rt(f[T]):gt(f[T]);b(null,J,p,m,S,y,x,D,C)}},ie=(f,p,m,S,y,x,D)=>{const C=p.el=f.el;let{patchFlag:O,dynamicChildren:T,dirs:J}=p;O|=f.patchFlag&16;const L=f.props||_e,H=p.props||_e;let Y;if(m&&qt(m,!1),(Y=H.onVnodeBeforeUpdate)&&at(Y,m,p,f),J&&Ft(p,f,m,"beforeUpdate"),m&&qt(m,!0),(L.innerHTML&&H.innerHTML==null||L.textContent&&H.textContent==null)&&u(C,""),T?he(f.dynamicChildren,T,C,m,S,Ms(p,y),x):D||U(f,p,C,null,m,S,Ms(p,y),x,!1),O>0){if(O&16)Ee(C,L,H,m,y);else if(O&2&&L.class!==H.class&&i(C,"class",null,H.class,y),O&4&&i(C,"style",L.style,H.style,y),O&8){const se=p.dynamicProps;for(let pe=0;pe<se.length;pe++){const de=se[pe],Be=L[de],Ne=H[de];(Ne!==Be||de==="value")&&i(C,de,Be,Ne,y,m)}}O&1&&f.children!==p.children&&u(C,p.children)}else!D&&T==null&&Ee(C,L,H,m,y);((Y=H.onVnodeUpdated)||J)&&ze(()=>{Y&&at(Y,m,p,f),J&&Ft(p,f,m,"updated")},S)},he=(f,p,m,S,y,x,D)=>{for(let C=0;C<p.length;C++){const O=f[C],T=p[C],J=O.el&&(O.type===pt||!mn(O,T)||O.shapeFlag&70)?d(O.el):m;b(O,T,J,null,S,y,x,D,!0)}},Ee=(f,p,m,S,y)=>{if(p!==m){if(p!==_e)for(const x in p)!En(x)&&!(x in m)&&i(f,x,p[x],null,y,S);for(const x in m){if(En(x))continue;const D=m[x],C=p[x];D!==C&&x!=="value"&&i(f,x,C,D,y,S)}"value"in m&&i(f,"value",p.value,m.value,y)}},Ae=(f,p,m,S,y,x,D,C,O)=>{const T=p.el=f?f.el:a(""),J=p.anchor=f?f.anchor:a("");let{patchFlag:L,dynamicChildren:H,slotScopeIds:Y}=p;Y&&(C=C?C.concat(Y):Y),f==null?(s(T,m,S),s(J,m,S),ae(p.children||[],m,J,y,x,D,C,O)):L>0&&L&64&&H&&f.dynamicChildren?(he(f.dynamicChildren,H,m,y,x,D,C),(p.key!=null||y&&p===y.subTree)&&ua(f,p,!0)):U(f,p,m,J,y,x,D,C,O)},xe=(f,p,m,S,y,x,D,C,O)=>{p.slotScopeIds=C,f==null?p.shapeFlag&512?y.ctx.activate(p,m,S,D,O):Me(p,m,S,y,x,D,O):z(f,p,O)},Me=(f,p,m,S,y,x,D)=>{const C=f.component=nu(f,S,y);if(Yo(f)&&(C.ctx.renderer=$),su(C,!1,D),C.asyncDep){if(y&&y.registerDep(C,G,D),!f.el){const O=C.subTree=fe(Dn);P(null,O,p,m)}}else G(C,f,p,m,y,x,D)},z=(f,p,m)=>{const S=p.component=f.component;if(Wl(f,p,m))if(S.asyncDep&&!S.asyncResolved){I(S,p,m);return}else S.next=p,S.update();else p.el=f.el,S.vnode=p},G=(f,p,m,S,y,x,D)=>{const C=()=>{if(f.isMounted){let{next:L,bu:H,u:Y,parent:se,vnode:pe}=f;{const He=da(f);if(He){L&&(L.el=pe.el,I(f,L,D)),He.asyncDep.then(()=>{f.isUnmounted||C()});return}}let de=L,Be;qt(f,!1),L?(L.el=pe.el,I(f,L,D)):L=pe,H&&As(H),(Be=L.props&&L.props.onVnodeBeforeUpdate)&&at(Be,se,L,pe),qt(f,!0);const Ne=Us(f),et=f.subTree;f.subTree=Ne,b(et,Ne,d(et.el),_(et),f,y,x),L.el=Ne.el,de===null&&zl(f,Ne.el),Y&&ze(Y,y),(Be=L.props&&L.props.onVnodeUpdated)&&ze(()=>at(Be,se,L,pe),y)}else{let L;const{el:H,props:Y}=p,{bm:se,m:pe,parent:de,root:Be,type:Ne}=f,et=kn(p);if(qt(f,!1),se&&As(se),!et&&(L=Y&&Y.onVnodeBeforeMount)&&at(L,de,p),qt(f,!0),H&&ve){const He=()=>{f.subTree=Us(f),ve(H,f.subTree,f,y,null)};et&&Ne.__asyncHydrate?Ne.__asyncHydrate(H,f,He):He()}else{Be.ce&&Be.ce._injectChildStyle(Ne);const He=f.subTree=Us(f);b(null,He,m,S,f,y,x),p.el=He.el}if(pe&&ze(pe,y),!et&&(L=Y&&Y.onVnodeMounted)){const He=p;ze(()=>at(L,de,He),y)}(p.shapeFlag&256||de&&kn(de.vnode)&&de.vnode.shapeFlag&256)&&f.a&&ze(f.a,y),f.isMounted=!0,p=m=S=null}};f.scope.on();const O=f.effect=new xo(C);f.scope.off();const T=f.update=O.run.bind(O),J=f.job=O.runIfDirty.bind(O);J.i=f,J.id=f.uid,O.scheduler=()=>Fr(J),qt(f,!0),T()},I=(f,p,m)=>{p.component=f;const S=f.vnode.props;f.vnode=p,f.next=null,Al(f,p.props,S,m),Pl(f,p.children,m),Ut(),ai(f),Lt()},U=(f,p,m,S,y,x,D,C,O=!1)=>{const T=f&&f.children,J=f?f.shapeFlag:0,L=p.children,{patchFlag:H,shapeFlag:Y}=p;if(H>0){if(H&128){me(T,L,m,S,y,x,D,C,O);return}else if(H&256){Z(T,L,m,S,y,x,D,C,O);return}}Y&8?(J&16&&M(T,y,x),L!==T&&u(m,L)):J&16?Y&16?me(T,L,m,S,y,x,D,C,O):M(T,y,x,!0):(J&8&&u(m,""),Y&16&&ae(L,m,S,y,x,D,C,O))},Z=(f,p,m,S,y,x,D,C,O)=>{f=f||Zt,p=p||Zt;const T=f.length,J=p.length,L=Math.min(T,J);let H;for(H=0;H<L;H++){const Y=p[H]=O?Rt(p[H]):gt(p[H]);b(f[H],Y,m,null,y,x,D,C,O)}T>J?M(f,y,x,!0,!1,L):ae(p,m,S,y,x,D,C,O,L)},me=(f,p,m,S,y,x,D,C,O)=>{let T=0;const J=p.length;let L=f.length-1,H=J-1;for(;T<=L&&T<=H;){const Y=f[T],se=p[T]=O?Rt(p[T]):gt(p[T]);if(mn(Y,se))b(Y,se,m,null,y,x,D,C,O);else break;T++}for(;T<=L&&T<=H;){const Y=f[L],se=p[H]=O?Rt(p[H]):gt(p[H]);if(mn(Y,se))b(Y,se,m,null,y,x,D,C,O);else break;L--,H--}if(T>L){if(T<=H){const Y=H+1,se=Y<J?p[Y].el:S;for(;T<=H;)b(null,p[T]=O?Rt(p[T]):gt(p[T]),m,se,y,x,D,C,O),T++}}else if(T>H)for(;T<=L;)ye(f[T],y,x,!0),T++;else{const Y=T,se=T,pe=new Map;for(T=se;T<=H;T++){const Ve=p[T]=O?Rt(p[T]):gt(p[T]);Ve.key!=null&&pe.set(Ve.key,T)}let de,Be=0;const Ne=H-se+1;let et=!1,He=0;const pn=new Array(Ne);for(T=0;T<Ne;T++)pn[T]=0;for(T=Y;T<=L;T++){const Ve=f[T];if(Be>=Ne){ye(Ve,y,x,!0);continue}let ot;if(Ve.key!=null)ot=pe.get(Ve.key);else for(de=se;de<=H;de++)if(pn[de-se]===0&&mn(Ve,p[de])){ot=de;break}ot===void 0?ye(Ve,y,x,!0):(pn[ot-se]=T+1,ot>=He?He=ot:et=!0,b(Ve,p[ot],m,null,y,x,D,C,O),Be++)}const ei=et?Ll(pn):Zt;for(de=ei.length-1,T=Ne-1;T>=0;T--){const Ve=se+T,ot=p[Ve],ti=Ve+1<J?p[Ve+1].el:S;pn[T]===0?b(null,ot,m,ti,y,x,D,C,O):et&&(de<0||T!==ei[de]?ee(ot,m,ti,2):de--)}}},ee=(f,p,m,S,y=null)=>{const{el:x,type:D,transition:C,children:O,shapeFlag:T}=f;if(T&6){ee(f.component.subTree,p,m,S);return}if(T&128){f.suspense.move(p,m,S);return}if(T&64){D.move(f,p,m,$);return}if(D===pt){s(x,p,m);for(let L=0;L<O.length;L++)ee(O[L],p,m,S);s(f.anchor,p,m);return}if(D===Ls){A(f,p,m);return}if(S!==2&&T&1&&C)if(S===0)C.beforeEnter(x),s(x,p,m),ze(()=>C.enter(x),y);else{const{leave:L,delayLeave:H,afterLeave:Y}=C,se=()=>s(x,p,m),pe=()=>{L(x,()=>{se(),Y&&Y()})};H?H(x,se,pe):pe()}else s(x,p,m)},ye=(f,p,m,S=!1,y=!1)=>{const{type:x,props:D,ref:C,children:O,dynamicChildren:T,shapeFlag:J,patchFlag:L,dirs:H,cacheIndex:Y}=f;if(L===-2&&(y=!1),C!=null&&is(C,null,m,f,!0),Y!=null&&(p.renderCache[Y]=void 0),J&256){p.ctx.deactivate(f);return}const se=J&1&&H,pe=!kn(f);let de;if(pe&&(de=D&&D.onVnodeBeforeUnmount)&&at(de,p,f),J&6)te(f.component,m,S);else{if(J&128){f.suspense.unmount(m,S);return}se&&Ft(f,null,p,"beforeUnmount"),J&64?f.type.remove(f,p,m,$,S):T&&!T.hasOnce&&(x!==pt||L>0&&L&64)?M(T,p,m,!1,!0):(x===pt&&L&384||!y&&J&16)&&M(O,p,m),S&&Fe(f)}(pe&&(de=D&&D.onVnodeUnmounted)||se)&&ze(()=>{de&&at(de,p,f),se&&Ft(f,null,p,"unmounted")},m)},Fe=f=>{const{type:p,el:m,anchor:S,transition:y}=f;if(p===pt){je(m,S);return}if(p===Ls){E(f);return}const x=()=>{r(m),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(f.shapeFlag&1&&y&&!y.persisted){const{leave:D,delayLeave:C}=y,O=()=>D(m,x);C?C(f.el,x,O):O()}else x()},je=(f,p)=>{let m;for(;f!==p;)m=h(f),r(f),f=m;r(p)},te=(f,p,m)=>{const{bum:S,scope:y,job:x,subTree:D,um:C,m:O,a:T}=f;pi(O),pi(T),S&&As(S),y.stop(),x&&(x.flags|=8,ye(D,f,p,m)),C&&ze(C,p),ze(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},M=(f,p,m,S=!1,y=!1,x=0)=>{for(let D=x;D<f.length;D++)ye(f[D],p,m,S,y)},_=f=>{if(f.shapeFlag&6)return _(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=h(f.anchor||f.el),m=p&&p[nl];return m?h(m):p};let R=!1;const k=(f,p,m)=>{f==null?p._vnode&&ye(p._vnode,null,null,!0):b(p._vnode||null,f,p,null,null,null,m),p._vnode=f,R||(R=!0,ai(),Wo(),R=!1)},$={p:b,um:ye,m:ee,r:Fe,mt:Me,mc:ae,pc:U,pbc:he,n:_,o:e};let oe,ve;return{render:k,hydrate:oe,createApp:Il(k,oe)}}function Ms({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function qt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ul(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ua(e,t,n=!1){const s=e.children,r=t.children;if(Q(s)&&Q(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Rt(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&ua(o,a)),a.type===Es&&(a.el=o.el)}}function Ll(e){const t=e.slice(),n=[0];let s,r,i,o,a;const c=e.length;for(s=0;s<c;s++){const l=e[s];if(l!==0){if(r=n[n.length-1],e[r]<l){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function da(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:da(t)}function pi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Fl=Symbol.for("v-scx"),ql=()=>mt(Fl);function Gn(e,t,n){return fa(e,t,n)}function fa(e,t,n=_e){const{immediate:s,deep:r,flush:i,once:o}=n,a=Re({},n),c=t&&s||!t&&i!=="post";let l;if(Un){if(i==="sync"){const g=ql();l=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=_t,g.resume=_t,g.pause=_t,g}}const u=Pe;a.call=(g,w,b)=>yt(g,u,w,b);let d=!1;i==="post"?a.scheduler=g=>{ze(g,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,w)=>{w?g():Fr(g)}),a.augmentJob=g=>{t&&(g.flags|=4),d&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const h=Qc(e,t,a);return Un&&(l?l.push(h):c&&h()),h}function $l(e,t,n){const s=this.proxy,r=ke(e)?e.includes(".")?ha(s,e):()=>s[e]:e.bind(s,s);let i;X(t)?i=t:(i=t.handler,n=t);const o=jn(this),a=fa(r,i.bind(s),n);return o(),a}function ha(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const jl=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ze(t)}Modifiers`]||e[`${Kt(t)}Modifiers`];function Bl(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||_e;let r=n;const i=t.startsWith("update:"),o=i&&jl(s,t.slice(7));o&&(o.trim&&(r=n.map(u=>ke(u)?u.trim():u)),o.number&&(r=n.map(yc)));let a,c=s[a=Rs(t)]||s[a=Rs(Ze(t))];!c&&i&&(c=s[a=Rs(Kt(t))]),c&&yt(c,e,6,r);const l=s[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,yt(l,e,6,r)}}function pa(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!X(e)){const c=l=>{const u=pa(l,t,!0);u&&(a=!0,Re(o,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(be(e)&&s.set(e,null),null):(Q(i)?i.forEach(c=>o[c]=null):Re(o,i),be(e)&&s.set(e,o),o)}function Ss(e,t){return!e||!fs(t)?!1:(t=t.slice(2).replace(/Once$/,""),ue(e,t[0].toLowerCase()+t.slice(1))||ue(e,Kt(t))||ue(e,t))}function Us(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:d,data:h,setupState:g,ctx:w,inheritAttrs:b}=e,q=rs(e);let P,N;try{if(n.shapeFlag&4){const E=r||s,V=E;P=gt(l.call(V,E,u,d,g,h,w)),N=a}else{const E=t;P=gt(E.length>1?E(d,{attrs:a,slots:o,emit:c}):E(d,null)),N=t.props?a:Hl(a)}}catch(E){Rn.length=0,vs(E,e,1),P=fe(Dn)}let A=P;if(N&&b!==!1){const E=Object.keys(N),{shapeFlag:V}=A;E.length&&V&7&&(i&&E.some(Rr)&&(N=Vl(N,i)),A=cn(A,N,!1,!0))}return n.dirs&&(A=cn(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&qr(A,n.transition),P=A,rs(q),P}const Hl=e=>{let t;for(const n in e)(n==="class"||n==="style"||fs(n))&&((t||(t={}))[n]=e[n]);return t},Vl=(e,t)=>{const n={};for(const s in e)(!Rr(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Wl(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?gi(s,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==s[h]&&!Ss(l,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?gi(s,o,l):!0:!!o;return!1}function gi(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!Ss(n,i))return!0}return!1}function zl({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const ga=e=>e.__isSuspense;function Kl(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):el(e)}const pt=Symbol.for("v-fgt"),Es=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),Ls=Symbol.for("v-stc"),Rn=[];let Ge=null;function Xe(e=!1){Rn.push(Ge=e?null:[])}function Jl(){Rn.pop(),Ge=Rn[Rn.length-1]||null}let Mn=1;function _i(e,t=!1){Mn+=e,e<0&&Ge&&t&&(Ge.hasOnce=!0)}function _a(e){return e.dynamicChildren=Mn>0?Ge||Zt:null,Jl(),Mn>0&&Ge&&Ge.push(e),e}function rt(e,t,n,s,r,i){return _a(j(e,t,n,s,r,i,!0))}function Gl(e,t,n,s,r){return _a(fe(e,t,n,s,r,!0))}function as(e){return e?e.__v_isVNode===!0:!1}function mn(e,t){return e.type===t.type&&e.key===t.key}const ma=({key:e})=>e??null,Yn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ke(e)||De(e)||X(e)?{i:nt,r:e,k:t,f:!!n}:e:null);function j(e,t=null,n=null,s=0,r=null,i=e===pt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ma(t),ref:t&&Yn(t),scopeId:Ko,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:nt};return a?(Br(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=ke(n)?8:16),Mn>0&&!o&&Ge&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ge.push(c),c}const fe=Yl;function Yl(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===ml)&&(e=Dn),as(e)){const a=cn(e,t,!0);return n&&Br(a,n),Mn>0&&!i&&Ge&&(a.shapeFlag&6?Ge[Ge.indexOf(e)]=a:Ge.push(a)),a.patchFlag=-2,a}if(cu(e)&&(e=e.__vccOpts),t){t=Ql(t);let{class:a,style:c}=t;a&&!ke(a)&&(t.class=fn(a)),be(c)&&(Lr(c)&&!Q(c)&&(c=Re({},c)),t.style=we(c))}const o=ke(e)?1:ga(e)?128:sl(e)?64:be(e)?4:X(e)?2:0;return j(e,t,n,s,r,o,i,!0)}function Ql(e){return e?Lr(e)||sa(e)?Re({},e):e:null}function cn(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:c}=e,l=t?Zl(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&ma(l),ref:t&&t.ref?n&&i?Q(i)?i.concat(Yn(t)):[i,Yn(t)]:Yn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cn(e.ssContent),ssFallback:e.ssFallback&&cn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&qr(u,c.clone(u)),u}function Xl(e=" ",t=0){return fe(Es,null,e,t)}function gt(e){return e==null||typeof e=="boolean"?fe(Dn):Q(e)?fe(pt,null,e.slice()):as(e)?Rt(e):fe(Es,null,String(e))}function Rt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cn(e)}function Br(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Q(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Br(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!sa(t)?t._ctx=nt:r===3&&nt&&(nt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else X(t)?(t={default:t,_ctx:nt},n=32):(t=String(t),s&64?(n=16,t=[Xl(t)]):n=8);e.children=t,e.shapeFlag|=n}function Zl(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=fn([t.class,s.class]));else if(r==="style")t.style=we([t.style,s.style]);else if(fs(r)){const i=t[r],o=s[r];o&&i!==o&&!(Q(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function at(e,t,n,s=null){yt(e,t,7,[n,s])}const eu=ea();let tu=0;function nu(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||eu,i={uid:tu++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Tc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ia(s,r),emitsOptions:pa(s,r),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:s.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Bl.bind(null,i),e.ce&&e.ce(i),i}let Pe=null,cs,cr;{const e=_s(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};cs=t("__VUE_INSTANCE_SETTERS__",n=>Pe=n),cr=t("__VUE_SSR_SETTERS__",n=>Un=n)}const jn=e=>{const t=Pe;return cs(e),e.scope.on(),()=>{e.scope.off(),cs(t)}},mi=()=>{Pe&&Pe.scope.off(),cs(null)};function ya(e){return e.vnode.shapeFlag&4}let Un=!1;function su(e,t=!1,n=!1){t&&cr(t);const{props:s,children:r}=e.vnode,i=ya(e);Rl(e,s,i,t),Cl(e,r,n);const o=i?ru(e,t):void 0;return t&&cr(!1),o}function ru(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wl);const{setup:s}=n;if(s){Ut();const r=e.setupContext=s.length>1?ou(e):null,i=jn(e),o=$n(s,e,0,[e.props,r]),a=mo(o);if(Lt(),i(),(a||e.sp)&&!kn(e)&&Go(e),a){if(o.then(mi,mi),t)return o.then(c=>{yi(e,c,t)}).catch(c=>{vs(c,e,0)});e.asyncDep=o}else yi(e,o,t)}else va(e,t)}function yi(e,t,n){X(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:be(t)&&(e.setupState=jo(t)),va(e,n)}let vi;function va(e,t,n){const s=e.type;if(!e.render){if(!t&&vi&&!s.render){const r=s.template||$r(e).template;if(r){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,l=Re(Re({isCustomElement:i,delimiters:a},o),c);s.render=vi(r,l)}}e.render=s.render||_t}{const r=jn(e);Ut();try{bl(e)}finally{Lt(),r()}}}const iu={get(e,t){return Oe(e,"get",""),e[t]}};function ou(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,iu),slots:e.slots,emit:e.emit,expose:t}}function Hr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(jo(Wc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in In)return In[n](e)},has(t,n){return n in t||n in In}})):e.proxy}function au(e,t=!0){return X(e)?e.displayName||e.name:e.name||t&&e.__name}function cu(e){return X(e)&&"__vccOpts"in e}const Ye=(e,t)=>Gc(e,t,Un);function wa(e,t,n){const s=arguments.length;return s===2?be(t)&&!Q(t)?as(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&as(n)&&(n=[n]),fe(e,t,n))}const lu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lr;const wi=typeof window<"u"&&window.trustedTypes;if(wi)try{lr=wi.createPolicy("vue",{createHTML:e=>e})}catch{}const ba=lr?e=>lr.createHTML(e):e=>e,uu="http://www.w3.org/2000/svg",du="http://www.w3.org/1998/Math/MathML",bt=typeof document<"u"?document:null,bi=bt&&bt.createElement("template"),fu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?bt.createElementNS(uu,e):t==="mathml"?bt.createElementNS(du,e):n?bt.createElement(e,{is:n}):bt.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>bt.createTextNode(e),createComment:e=>bt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{bi.innerHTML=ba(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=bi.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},hu=Symbol("_vtc");function pu(e,t,n){const s=e[hu];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Si=Symbol("_vod"),gu=Symbol("_vsh"),_u=Symbol(""),mu=/(^|;)\s*display\s*:/;function yu(e,t,n){const s=e.style,r=ke(n);let i=!1;if(n&&!r){if(t)if(ke(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Qn(s,a,"")}else for(const o in t)n[o]==null&&Qn(s,o,"");for(const o in n)o==="display"&&(i=!0),Qn(s,o,n[o])}else if(r){if(t!==n){const o=s[_u];o&&(n+=";"+o),s.cssText=n,i=mu.test(n)}}else t&&e.removeAttribute("style");Si in e&&(e[Si]=i?s.display:"",e[gu]&&(s.display="none"))}const Ei=/\s*!important$/;function Qn(e,t,n){if(Q(n))n.forEach(s=>Qn(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=vu(e,t);Ei.test(n)?e.setProperty(Kt(s),n.replace(Ei,""),"important"):e[s]=n}}const xi=["Webkit","Moz","ms"],Fs={};function vu(e,t){const n=Fs[t];if(n)return n;let s=Ze(t);if(s!=="filter"&&s in e)return Fs[t]=s;s=gs(s);for(let r=0;r<xi.length;r++){const i=xi[r]+s;if(i in e)return Fs[t]=i}return t}const Ti="http://www.w3.org/1999/xlink";function ki(e,t,n,s,r,i=xc(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ti,t.slice(6,t.length)):e.setAttributeNS(Ti,t,n):n==null||i&&!bo(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Mt(n)?String(n):n)}function Ii(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ba(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=bo(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function wu(e,t,n,s){e.addEventListener(t,n,s)}function bu(e,t,n,s){e.removeEventListener(t,n,s)}const Ri=Symbol("_vei");function Su(e,t,n,s,r=null){const i=e[Ri]||(e[Ri]={}),o=i[t];if(s&&o)o.value=s;else{const[a,c]=Eu(t);if(s){const l=i[t]=ku(s,r);wu(e,a,l,c)}else o&&(bu(e,a,o,c),i[t]=void 0)}}const Ai=/(?:Once|Passive|Capture)$/;function Eu(e){let t;if(Ai.test(e)){t={};let s;for(;s=e.match(Ai);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Kt(e.slice(2)),t]}let qs=0;const xu=Promise.resolve(),Tu=()=>qs||(xu.then(()=>qs=0),qs=Date.now());function ku(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;yt(Iu(s,n.value),t,5,[s])};return n.value=e,n.attached=Tu(),n}function Iu(e,t){if(Q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Ni=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ru=(e,t,n,s,r,i)=>{const o=r==="svg";t==="class"?pu(e,s,o):t==="style"?yu(e,n,s):fs(t)?Rr(t)||Su(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Au(e,t,s,o))?(Ii(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ki(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ke(s))?Ii(e,Ze(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),ki(e,t,s,o))};function Au(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ni(t)&&X(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ni(t)&&ke(n)?!1:t in e}const Nu=Re({patchProp:Ru},fu);let Oi;function Ou(){return Oi||(Oi=Dl(Nu))}const Cu=(...e)=>{const t=Ou().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Du(s);if(!r)return;const i=t._component;!X(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Pu(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Pu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Du(e){return ke(e)?document.querySelector(e):e}const Mu={__name:"App",setup(e){return(t,n)=>{const s=_l("router-view");return Xe(),Gl(s)}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Xt=typeof document<"u";function Sa(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Uu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Sa(e.default)}const ce=Object.assign;function $s(e,t){const n={};for(const s in t){const r=t[s];n[s]=it(r)?r.map(e):e(r)}return n}const An=()=>{},it=Array.isArray,Ea=/#/g,Lu=/&/g,Fu=/\//g,qu=/=/g,$u=/\?/g,xa=/\+/g,ju=/%5B/g,Bu=/%5D/g,Ta=/%5E/g,Hu=/%60/g,ka=/%7B/g,Vu=/%7C/g,Ia=/%7D/g,Wu=/%20/g;function Vr(e){return encodeURI(""+e).replace(Vu,"|").replace(ju,"[").replace(Bu,"]")}function zu(e){return Vr(e).replace(ka,"{").replace(Ia,"}").replace(Ta,"^")}function ur(e){return Vr(e).replace(xa,"%2B").replace(Wu,"+").replace(Ea,"%23").replace(Lu,"%26").replace(Hu,"`").replace(ka,"{").replace(Ia,"}").replace(Ta,"^")}function Ku(e){return ur(e).replace(qu,"%3D")}function Ju(e){return Vr(e).replace(Ea,"%23").replace($u,"%3F")}function Gu(e){return e==null?"":Ju(e).replace(Fu,"%2F")}function Ln(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Yu=/\/$/,Qu=e=>e.replace(Yu,"");function js(e,t,n="/"){let s,r={},i="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),r=e(i)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=td(s??t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Ln(o)}}function Xu(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ci(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Zu(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&ln(t.matched[s],n.matched[r])&&Ra(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ln(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ra(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ed(e[n],t[n]))return!1;return!0}function ed(e,t){return it(e)?Pi(e,t):it(t)?Pi(t,e):e===t}function Pi(e,t){return it(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function td(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Tt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fn;(function(e){e.pop="pop",e.push="push"})(Fn||(Fn={}));var Nn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Nn||(Nn={}));function nd(e){if(!e)if(Xt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Qu(e)}const sd=/^[^#]+#/;function rd(e,t){return e.replace(sd,"#")+t}function id(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const xs=()=>({left:window.scrollX,top:window.scrollY});function od(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=id(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Di(e,t){return(history.state?history.state.position-t:-1)+e}const dr=new Map;function ad(e,t){dr.set(e,t)}function cd(e){const t=dr.get(e);return dr.delete(e),t}let ld=()=>location.protocol+"//"+location.host;function Aa(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Ci(c,"")}return Ci(n,e)+s+r}function ud(e,t,n,s){let r=[],i=[],o=null;const a=({state:h})=>{const g=Aa(e,location),w=n.value,b=t.value;let q=0;if(h){if(n.value=g,t.value=h,o&&o===w){o=null;return}q=b?h.position-b.position:0}else s(g);r.forEach(P=>{P(n.value,w,{delta:q,type:Fn.pop,direction:q?q>0?Nn.forward:Nn.back:Nn.unknown})})};function c(){o=n.value}function l(h){r.push(h);const g=()=>{const w=r.indexOf(h);w>-1&&r.splice(w,1)};return i.push(g),g}function u(){const{history:h}=window;h.state&&h.replaceState(ce({},h.state,{scroll:xs()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:d}}function Mi(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?xs():null}}function dd(e){const{history:t,location:n}=window,s={value:Aa(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+c:ld()+e+c;try{t[u?"replaceState":"pushState"](l,"",h),r.value=l}catch(g){console.error(g),n[u?"replace":"assign"](h)}}function o(c,l){const u=ce({},t.state,Mi(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=ce({},r.value,t.state,{forward:c,scroll:xs()});i(u.current,u,!0);const d=ce({},Mi(s.value,c,null),{position:u.position+1},l);i(c,d,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function fd(e){e=nd(e);const t=dd(e),n=ud(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=ce({location:"",base:e,go:s,createHref:rd.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function hd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),fd(e)}function pd(e){return typeof e=="string"||e&&typeof e=="object"}function Na(e){return typeof e=="string"||typeof e=="symbol"}const Oa=Symbol("");var Ui;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ui||(Ui={}));function un(e,t){return ce(new Error,{type:e,[Oa]:!0},t)}function wt(e,t){return e instanceof Error&&Oa in e&&(t==null||!!(e.type&t))}const Li="[^/]+?",gd={sensitive:!1,strict:!1,start:!0,end:!0},_d=/[.+*?^${}()[\]/\\]/g;function md(e,t){const n=ce({},gd,t),s=[];let r=n.start?"^":"";const i=[];for(const l of e){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let d=0;d<l.length;d++){const h=l[d];let g=40+(n.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(_d,"\\$&"),g+=40;else if(h.type===1){const{value:w,repeatable:b,optional:q,regexp:P}=h;i.push({name:w,repeatable:b,optional:q});const N=P||Li;if(N!==Li){g+=10;try{new RegExp(`(${N})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${w}" (${N}): `+E.message)}}let A=b?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;d||(A=q&&l.length<2?`(?:/${A})`:"/"+A),q&&(A+="?"),r+=A,g+=20,q&&(g+=-8),b&&(g+=-20),N===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const g=u[h]||"",w=i[h-1];d[w.name]=g&&w.repeatable?g.split("/"):g}return d}function c(l){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const g of h)if(g.type===0)u+=g.value;else if(g.type===1){const{value:w,repeatable:b,optional:q}=g,P=w in l?l[w]:"";if(it(P)&&!b)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const N=it(P)?P.join("/"):P;if(!N)if(q)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${w}"`);u+=N}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function yd(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ca(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=yd(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Fi(s))return 1;if(Fi(r))return-1}return r.length-s.length}function Fi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const vd={type:0,value:""},wd=/[a-zA-Z0-9_]/;function bd(e){if(!e)return[[]];if(e==="/")return[[vd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function d(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function h(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&d(),o()):c===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:c==="("?n=2:wd.test(c)?h():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),d(),o(),r}function Sd(e,t,n){const s=md(bd(e.path),n),r=ce(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Ed(e,t){const n=[],s=new Map;t=Bi({strict:!1,end:!0,sensitive:!1},t);function r(d){return s.get(d)}function i(d,h,g){const w=!g,b=$i(d);b.aliasOf=g&&g.record;const q=Bi(t,d),P=[b];if("alias"in d){const E=typeof d.alias=="string"?[d.alias]:d.alias;for(const V of E)P.push($i(ce({},b,{components:g?g.record.components:b.components,path:V,aliasOf:g?g.record:b})))}let N,A;for(const E of P){const{path:V}=E;if(h&&V[0]!=="/"){const B=h.record.path,W=B[B.length-1]==="/"?"":"/";E.path=h.record.path+(V&&W+V)}if(N=Sd(E,h,q),g?g.alias.push(N):(A=A||N,A!==N&&A.alias.push(N),w&&d.name&&!ji(N)&&o(d.name)),Pa(N)&&c(N),b.children){const B=b.children;for(let W=0;W<B.length;W++)i(B[W],N,g&&g.children[W])}g=g||N}return A?()=>{o(A)}:An}function o(d){if(Na(d)){const h=s.get(d);h&&(s.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function c(d){const h=kd(d,n);n.splice(h,0,d),d.record.name&&!ji(d)&&s.set(d.record.name,d)}function l(d,h){let g,w={},b,q;if("name"in d&&d.name){if(g=s.get(d.name),!g)throw un(1,{location:d});q=g.record.name,w=ce(qi(h.params,g.keys.filter(A=>!A.optional).concat(g.parent?g.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),d.params&&qi(d.params,g.keys.map(A=>A.name))),b=g.stringify(w)}else if(d.path!=null)b=d.path,g=n.find(A=>A.re.test(b)),g&&(w=g.parse(b),q=g.record.name);else{if(g=h.name?s.get(h.name):n.find(A=>A.re.test(h.path)),!g)throw un(1,{location:d,currentLocation:h});q=g.record.name,w=ce({},h.params,d.params),b=g.stringify(w)}const P=[];let N=g;for(;N;)P.unshift(N.record),N=N.parent;return{name:q,path:b,params:w,matched:P,meta:Td(P)}}e.forEach(d=>i(d));function u(){n.length=0,s.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function qi(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function $i(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:xd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function xd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ji(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Td(e){return e.reduce((t,n)=>ce(t,n.meta),{})}function Bi(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function kd(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;Ca(e,t[i])<0?s=i:n=i+1}const r=Id(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function Id(e){let t=e;for(;t=t.parent;)if(Pa(t)&&Ca(e,t)===0)return t}function Pa({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Rd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(xa," "),o=i.indexOf("="),a=Ln(o<0?i:i.slice(0,o)),c=o<0?null:Ln(i.slice(o+1));if(a in t){let l=t[a];it(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function Hi(e){let t="";for(let n in e){const s=e[n];if(n=Ku(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(it(s)?s.map(i=>i&&ur(i)):[s&&ur(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Ad(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=it(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const Nd=Symbol(""),Vi=Symbol(""),Ts=Symbol(""),Da=Symbol(""),fr=Symbol("");function yn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function At(e,t,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,c)=>{const l=h=>{h===!1?c(un(4,{from:n,to:t})):h instanceof Error?c(h):pd(h)?c(un(2,{from:t,to:h})):(o&&s.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>e.call(s&&s.instances[r],t,n,l));let d=Promise.resolve(u);e.length<3&&(d=d.then(l)),d.catch(h=>c(h))})}function Bs(e,t,n,s,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let c=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Sa(c)){const u=(c.__vccOpts||c)[t];u&&i.push(At(u,n,s,o,a,r))}else{let l=c();i.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Uu(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const g=(d.__vccOpts||d)[t];return g&&At(g,n,s,o,a,r)()}))}}return i}function Wi(e){const t=mt(Ts),n=mt(Da),s=Ye(()=>{const c=nn(e.to);return t.resolve(c)}),r=Ye(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(ln.bind(null,u));if(h>-1)return h;const g=zi(c[l-2]);return l>1&&zi(u)===g&&d[d.length-1].path!==g?d.findIndex(ln.bind(null,c[l-2])):h}),i=Ye(()=>r.value>-1&&Md(n.params,s.value.params)),o=Ye(()=>r.value>-1&&r.value===n.matched.length-1&&Ra(n.params,s.value.params));function a(c={}){if(Dd(c)){const l=t[nn(e.replace)?"replace":"push"](nn(e.to)).catch(An);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:s,href:Ye(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function Od(e){return e.length===1?e[0]:e}const Cd=Jo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Wi,setup(e,{slots:t}){const n=ys(Wi(e)),{options:s}=mt(Ts),r=Ye(()=>({[Ki(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ki(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&Od(t.default(n));return e.custom?i:wa("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Pd=Cd;function Dd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Md(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!it(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function zi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ki=(e,t,n)=>e??t??n,Ud=Jo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=mt(fr),r=Ye(()=>e.route||s.value),i=mt(Vi,0),o=Ye(()=>{let l=nn(i);const{matched:u}=r.value;let d;for(;(d=u[l])&&!d.components;)l++;return l}),a=Ye(()=>r.value.matched[o.value]);Jn(Vi,Ye(()=>o.value+1)),Jn(Nd,a),Jn(fr,r);const c=ct();return Gn(()=>[c.value,a.value,e.name],([l,u,d],[h,g,w])=>{u&&(u.instances[d]=l,g&&g!==u&&l&&l===h&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!ln(u,g)||!h)&&(u.enterCallbacks[d]||[]).forEach(b=>b(l))},{flush:"post"}),()=>{const l=r.value,u=e.name,d=a.value,h=d&&d.components[u];if(!h)return Ji(n.default,{Component:h,route:l});const g=d.props[u],w=g?g===!0?l.params:typeof g=="function"?g(l):g:null,q=wa(h,ce({},w,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return Ji(n.default,{Component:q,route:l})||q}}});function Ji(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ld=Ud;function Fd(e){const t=Ed(e.routes,e),n=e.parseQuery||Rd,s=e.stringifyQuery||Hi,r=e.history,i=yn(),o=yn(),a=yn(),c=sr(Tt);let l=Tt;Xt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=$s.bind(null,_=>""+_),d=$s.bind(null,Gu),h=$s.bind(null,Ln);function g(_,R){let k,$;return Na(_)?(k=t.getRecordMatcher(_),$=R):$=_,t.addRoute($,k)}function w(_){const R=t.getRecordMatcher(_);R&&t.removeRoute(R)}function b(){return t.getRoutes().map(_=>_.record)}function q(_){return!!t.getRecordMatcher(_)}function P(_,R){if(R=ce({},R||c.value),typeof _=="string"){const p=js(n,_,R.path),m=t.resolve({path:p.path},R),S=r.createHref(p.fullPath);return ce(p,m,{params:h(m.params),hash:Ln(p.hash),redirectedFrom:void 0,href:S})}let k;if(_.path!=null)k=ce({},_,{path:js(n,_.path,R.path).path});else{const p=ce({},_.params);for(const m in p)p[m]==null&&delete p[m];k=ce({},_,{params:d(p)}),R.params=d(R.params)}const $=t.resolve(k,R),oe=_.hash||"";$.params=u(h($.params));const ve=Xu(s,ce({},_,{hash:zu(oe),path:$.path})),f=r.createHref(ve);return ce({fullPath:ve,hash:oe,query:s===Hi?Ad(_.query):_.query||{}},$,{redirectedFrom:void 0,href:f})}function N(_){return typeof _=="string"?js(n,_,c.value.path):ce({},_)}function A(_,R){if(l!==_)return un(8,{from:R,to:_})}function E(_){return W(_)}function V(_){return E(ce(N(_),{replace:!0}))}function B(_){const R=_.matched[_.matched.length-1];if(R&&R.redirect){const{redirect:k}=R;let $=typeof k=="function"?k(_):k;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=N($):{path:$},$.params={}),ce({query:_.query,hash:_.hash,params:$.path!=null?{}:_.params},$)}}function W(_,R){const k=l=P(_),$=c.value,oe=_.state,ve=_.force,f=_.replace===!0,p=B(k);if(p)return W(ce(N(p),{state:typeof p=="object"?ce({},oe,p.state):oe,force:ve,replace:f}),R||k);const m=k;m.redirectedFrom=R;let S;return!ve&&Zu(s,$,k)&&(S=un(16,{to:m,from:$}),ee($,$,!0,!1)),(S?Promise.resolve(S):he(m,$)).catch(y=>wt(y)?wt(y,2)?y:me(y):U(y,m,$)).then(y=>{if(y){if(wt(y,2))return W(ce({replace:f},N(y.to),{state:typeof y.to=="object"?ce({},oe,y.to.state):oe,force:ve}),R||m)}else y=Ae(m,$,!0,f,oe);return Ee(m,$,y),y})}function ae(_,R){const k=A(_,R);return k?Promise.reject(k):Promise.resolve()}function ie(_){const R=je.values().next().value;return R&&typeof R.runWithContext=="function"?R.runWithContext(_):_()}function he(_,R){let k;const[$,oe,ve]=qd(_,R);k=Bs($.reverse(),"beforeRouteLeave",_,R);for(const p of $)p.leaveGuards.forEach(m=>{k.push(At(m,_,R))});const f=ae.bind(null,_,R);return k.push(f),M(k).then(()=>{k=[];for(const p of i.list())k.push(At(p,_,R));return k.push(f),M(k)}).then(()=>{k=Bs(oe,"beforeRouteUpdate",_,R);for(const p of oe)p.updateGuards.forEach(m=>{k.push(At(m,_,R))});return k.push(f),M(k)}).then(()=>{k=[];for(const p of ve)if(p.beforeEnter)if(it(p.beforeEnter))for(const m of p.beforeEnter)k.push(At(m,_,R));else k.push(At(p.beforeEnter,_,R));return k.push(f),M(k)}).then(()=>(_.matched.forEach(p=>p.enterCallbacks={}),k=Bs(ve,"beforeRouteEnter",_,R,ie),k.push(f),M(k))).then(()=>{k=[];for(const p of o.list())k.push(At(p,_,R));return k.push(f),M(k)}).catch(p=>wt(p,8)?p:Promise.reject(p))}function Ee(_,R,k){a.list().forEach($=>ie(()=>$(_,R,k)))}function Ae(_,R,k,$,oe){const ve=A(_,R);if(ve)return ve;const f=R===Tt,p=Xt?history.state:{};k&&($||f?r.replace(_.fullPath,ce({scroll:f&&p&&p.scroll},oe)):r.push(_.fullPath,oe)),c.value=_,ee(_,R,k,f),me()}let xe;function Me(){xe||(xe=r.listen((_,R,k)=>{if(!te.listening)return;const $=P(_),oe=B($);if(oe){W(ce(oe,{replace:!0,force:!0}),$).catch(An);return}l=$;const ve=c.value;Xt&&ad(Di(ve.fullPath,k.delta),xs()),he($,ve).catch(f=>wt(f,12)?f:wt(f,2)?(W(ce(N(f.to),{force:!0}),$).then(p=>{wt(p,20)&&!k.delta&&k.type===Fn.pop&&r.go(-1,!1)}).catch(An),Promise.reject()):(k.delta&&r.go(-k.delta,!1),U(f,$,ve))).then(f=>{f=f||Ae($,ve,!1),f&&(k.delta&&!wt(f,8)?r.go(-k.delta,!1):k.type===Fn.pop&&wt(f,20)&&r.go(-1,!1)),Ee($,ve,f)}).catch(An)}))}let z=yn(),G=yn(),I;function U(_,R,k){me(_);const $=G.list();return $.length?$.forEach(oe=>oe(_,R,k)):console.error(_),Promise.reject(_)}function Z(){return I&&c.value!==Tt?Promise.resolve():new Promise((_,R)=>{z.add([_,R])})}function me(_){return I||(I=!_,Me(),z.list().forEach(([R,k])=>_?k(_):R()),z.reset()),_}function ee(_,R,k,$){const{scrollBehavior:oe}=e;if(!Xt||!oe)return Promise.resolve();const ve=!k&&cd(Di(_.fullPath,0))||($||!k)&&history.state&&history.state.scroll||null;return Ho().then(()=>oe(_,R,ve)).then(f=>f&&od(f)).catch(f=>U(f,_,R))}const ye=_=>r.go(_);let Fe;const je=new Set,te={currentRoute:c,listening:!0,addRoute:g,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:q,getRoutes:b,resolve:P,options:e,push:E,replace:V,go:ye,back:()=>ye(-1),forward:()=>ye(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:G.add,isReady:Z,install(_){const R=this;_.component("RouterLink",Pd),_.component("RouterView",Ld),_.config.globalProperties.$router=R,Object.defineProperty(_.config.globalProperties,"$route",{enumerable:!0,get:()=>nn(c)}),Xt&&!Fe&&c.value===Tt&&(Fe=!0,E(r.location).catch(oe=>{}));const k={};for(const oe in Tt)Object.defineProperty(k,oe,{get:()=>c.value[oe],enumerable:!0});_.provide(Ts,R),_.provide(Da,Fo(k)),_.provide(fr,c);const $=_.unmount;je.add(_),_.unmount=function(){je.delete(_),je.size<1&&(l=Tt,xe&&xe(),xe=null,c.value=Tt,Fe=!1,I=!1),$()}}};function M(_){return _.reduce((R,k)=>R.then(()=>ie(k)),Promise.resolve())}return te}function qd(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>ln(l,a))?s.push(a):n.push(a));const c=e.matched[o];c&&(t.matched.find(l=>ln(l,c))||r.push(c))}return[n,s,r]}function Wr(){return mt(Ts)}class bn extends Error{}bn.prototype.name="InvalidTokenError";function $d(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let s=n.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function jd(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return $d(t)}catch{return atob(t)}}function Bd(e,t){if(typeof e!="string")throw new bn("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,s=e.split(".")[n];if(typeof s!="string")throw new bn(`Invalid token specified: missing part #${n+1}`);let r;try{r=jd(s)}catch(i){throw new bn(`Invalid token specified: invalid base64 for part #${n+1} (${i.message})`)}try{return JSON.parse(r)}catch(i){throw new bn(`Invalid token specified: invalid json for part #${n+1} (${i.message})`)}}var Hd={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},ft,ht,ls=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(ls||{});(e=>{function t(){ft=3,ht=Hd}e.reset=t;function n(r){if(!(0<=r&&r<=4))throw new Error("Invalid log level");ft=r}e.setLevel=n;function s(r){ht=r}e.setLogger=s})(ls||(ls={}));var re=class lt{constructor(t){this._name=t}debug(...t){ft>=4&&ht.debug(lt._format(this._name,this._method),...t)}info(...t){ft>=3&&ht.info(lt._format(this._name,this._method),...t)}warn(...t){ft>=2&&ht.warn(lt._format(this._name,this._method),...t)}error(...t){ft>=1&&ht.error(lt._format(this._name,this._method),...t)}throw(t){throw this.error(t),t}create(t){const n=Object.create(this);return n._method=t,n.debug("begin"),n}static createStatic(t,n){const s=new lt(`${t}.${n}`);return s.debug("begin"),s}static _format(t,n){const s=`[${t}]`;return n?`${s} ${n}:`:s}static debug(t,...n){ft>=4&&ht.debug(lt._format(t),...n)}static info(t,...n){ft>=3&&ht.info(lt._format(t),...n)}static warn(t,...n){ft>=2&&ht.warn(lt._format(t),...n)}static error(t,...n){ft>=1&&ht.error(lt._format(t),...n)}};ls.reset();var us=class{static decode(e){try{return Bd(e)}catch(t){throw re.error("JwtUtils.decode",t),t}}static async generateSignedJwt(e,t,n){const s=$e.encodeBase64Url(new TextEncoder().encode(JSON.stringify(e))),r=$e.encodeBase64Url(new TextEncoder().encode(JSON.stringify(t))),i=`${s}.${r}`,o=await window.crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},n,new TextEncoder().encode(i)),a=$e.encodeBase64Url(new Uint8Array(o));return`${i}.${a}`}},Vd="10000000-1000-4000-8000-100000000000",hr=e=>btoa([...new Uint8Array(e)].map(t=>String.fromCharCode(t)).join("")),Ma=class ut{static _randomWord(){const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}static generateUUIDv4(){return Vd.replace(/[018]/g,n=>(+n^ut._randomWord()&15>>+n/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return ut.generateUUIDv4()+ut.generateUUIDv4()+ut.generateUUIDv4()}static async generateCodeChallenge(t){if(!crypto.subtle)throw new Error("Crypto.subtle is available only in secure contexts (HTTPS).");try{const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s);return hr(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(n){throw re.error("CryptoUtils.generateCodeChallenge",n),n}}static generateBasicAuth(t,n){const r=new TextEncoder().encode([t,n].join(":"));return hr(r)}static async hash(t,n){const s=new TextEncoder().encode(n),r=await crypto.subtle.digest(t,s);return new Uint8Array(r)}static async customCalculateJwkThumbprint(t){let n;switch(t.kty){case"RSA":n={e:t.e,kty:t.kty,n:t.n};break;case"EC":n={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":n={crv:t.crv,kty:t.kty,x:t.x};break;case"oct":n={crv:t.k,kty:t.kty};break;default:throw new Error("Unknown jwk type")}const s=await ut.hash("SHA-256",JSON.stringify(n));return ut.encodeBase64Url(s)}static async generateDPoPProof({url:t,accessToken:n,httpMethod:s,keyPair:r,nonce:i}){let o,a;const c={jti:window.crypto.randomUUID(),htm:s??"GET",htu:t,iat:Math.floor(Date.now()/1e3)};n&&(o=await ut.hash("SHA-256",n),a=ut.encodeBase64Url(o),c.ath=a),i&&(c.nonce=i);try{const l=await crypto.subtle.exportKey("jwk",r.publicKey),u={alg:"ES256",typ:"dpop+jwt",jwk:{crv:l.crv,kty:l.kty,x:l.x,y:l.y}};return await us.generateSignedJwt(u,c,r.privateKey)}catch(l){throw l instanceof TypeError?new Error(`Error exporting dpop public key: ${l.message}`):l}}static async generateDPoPJkt(t){try{const n=await crypto.subtle.exportKey("jwk",t.publicKey);return await ut.customCalculateJwkThumbprint(n)}catch(n){throw n instanceof TypeError?new Error(`Could not retrieve dpop keys from storage: ${n.message}`):n}}static async generateDPoPKeys(){return await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"])}};Ma.encodeBase64Url=e=>hr(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var $e=Ma,Nt=class{constructor(e){this._name=e,this._callbacks=[],this._logger=new re(`Event('${this._name}')`)}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}async raise(...e){this._logger.debug("raise:",...e);for(const t of this._callbacks)await t(...e)}},Gi=class{static center({...e}){var t,n,s;return e.width==null&&(e.width=(t=[800,720,600,480].find(r=>r<=window.outerWidth/1.618))!=null?t:360),(n=e.left)!=null||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),e.height!=null&&((s=e.top)!=null||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}=${typeof n!="boolean"?n:n?"yes":"no"}`).join(",")}},Et=class Xn extends Nt{constructor(){super(...arguments),this._logger=new re(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const t=this._expiration-Xn.getEpochTime();this._logger.debug("timer completes in",t),this._expiration<=Xn.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(t){const n=this._logger.create("init");t=Math.max(Math.floor(t),1);const s=Xn.getEpochTime()+t;if(this.expiration===s&&this._timerHandle){n.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),n.debug("using duration",t),this._expiration=s;const r=Math.min(t,5);this._timerHandle=setInterval(this._callback,r*1e3)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},pr=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const s=new URL(e,"http://127.0.0.1")[t==="fragment"?"hash":"search"];return new URLSearchParams(s.slice(1))}},dn=";",Wt=class extends Error{constructor(e,t){var n,s,r;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw re.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=(n=e.error_description)!=null?n:null,this.error_uri=(s=e.error_uri)!=null?s:null,this.state=e.userState,this.session_state=(r=e.session_state)!=null?r:null,this.url_state=e.url_state}},zr=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},Wd=class{constructor(e){this._logger=new re("AccessTokenEvents"),this._expiringTimer=new Et("Access token expiring"),this._expiredTimer=new Et("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}async load(e){const t=this._logger.create("load");if(e.access_token&&e.expires_in!==void 0){const n=e.expires_in;if(t.debug("access token present, remaining duration:",n),n>0){let r=n-this._expiringNotificationTimeInSeconds;r<=0&&(r=1),t.debug("registering expiring timer, raising in",r,"seconds"),this._expiringTimer.init(r)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const s=n+1;t.debug("registering expired timer, raising in",s,"seconds"),this._expiredTimer.init(s)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}async unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},zd=class{constructor(e,t,n,s,r){this._callback=e,this._client_id=t,this._intervalInSeconds=s,this._stopOnError=r,this._logger=new re("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=o=>{o.origin===this._frame_origin&&o.source===this._frame.contentWindow&&(o.data==="error"?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):o.data==="changed"?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(o.data+" message from check session op iframe"))};const i=new URL(n);this._frame_origin=i.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=i.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,this._intervalInSeconds*1e3)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},Ua=class{constructor(){this._logger=new re("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},gr=class extends Error{constructor(e,t){super(t),this.name="ErrorDPoPNonce",this.nonce=e}},Kr=class{constructor(e=[],t=null,n={}){this._jwtHandler=t,this._extraHeaders=n,this._logger=new re("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:n,...s}=t;if(!n)return await fetch(e,s);const r=new AbortController,i=setTimeout(()=>r.abort(),n*1e3);try{return await fetch(e,{...t,signal:r.signal})}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?new zr("Network timed out"):o}finally{clearTimeout(i)}}async getJson(e,{token:t,credentials:n,timeoutInSeconds:s}={}){const r=this._logger.create("getJson"),i={Accept:this._contentTypes.join(", ")};t&&(r.debug("token passed, setting Authorization header"),i.Authorization="Bearer "+t),this._appendExtraHeaders(i);let o;try{r.debug("url:",e),o=await this.fetchWithTimeout(e,{method:"GET",headers:i,timeoutInSeconds:s,credentials:n})}catch(l){throw r.error("Network Error"),l}r.debug("HTTP response received, status",o.status);const a=o.headers.get("Content-Type");if(a&&!this._contentTypes.find(l=>a.startsWith(l))&&r.throw(new Error(`Invalid response Content-Type: ${a??"undefined"}, from URL: ${e}`)),o.ok&&this._jwtHandler&&(a!=null&&a.startsWith("application/jwt")))return await this._jwtHandler(await o.text());let c;try{c=await o.json()}catch(l){throw r.error("Error parsing JSON response",l),o.ok?l:new Error(`${o.statusText} (${o.status})`)}if(!o.ok)throw r.error("Error from server:",c),c.error?new Wt(c):new Error(`${o.statusText} (${o.status}): ${JSON.stringify(c)}`);return c}async postForm(e,{body:t,basicAuth:n,timeoutInSeconds:s,initCredentials:r,extraHeaders:i}){const o=this._logger.create("postForm"),a={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded",...i};n!==void 0&&(a.Authorization="Basic "+n),this._appendExtraHeaders(a);let c;try{o.debug("url:",e),c=await this.fetchWithTimeout(e,{method:"POST",headers:a,body:t,timeoutInSeconds:s,credentials:r})}catch(h){throw o.error("Network error"),h}o.debug("HTTP response received, status",c.status);const l=c.headers.get("Content-Type");if(l&&!this._contentTypes.find(h=>l.startsWith(h)))throw new Error(`Invalid response Content-Type: ${l??"undefined"}, from URL: ${e}`);const u=await c.text();let d={};if(u)try{d=JSON.parse(u)}catch(h){throw o.error("Error parsing JSON response",h),c.ok?h:new Error(`${c.statusText} (${c.status})`)}if(!c.ok){if(o.error("Error from server:",d),c.headers.has("dpop-nonce")){const h=c.headers.get("dpop-nonce");throw new gr(h,`${JSON.stringify(d)}`)}throw d.error?new Wt(d,t):new Error(`${c.statusText} (${c.status}): ${JSON.stringify(d)}`)}return d}_appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),n=Object.keys(this._extraHeaders),s=["accept","content-type"],r=["authorization"];n.length!==0&&n.forEach(i=>{if(s.includes(i.toLocaleLowerCase())){t.warn("Protected header could not be set",i,s);return}if(r.includes(i.toLocaleLowerCase())&&Object.keys(e).includes(i)){t.warn("Header could not be overridden",i,r);return}const o=typeof this._extraHeaders[i]=="function"?this._extraHeaders[i]():this._extraHeaders[i];o&&o!==""&&(e[i]=o)})}},Kd=class{constructor(e){this._settings=e,this._logger=new re("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new Kr(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},t,this._settings.metadataSeed),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const n=this._logger.create(`_getMetadataProperty('${e}')`),s=await this.getMetadata();if(n.debug("resolved"),s[e]===void 0){if(t===!0){n.warn("Metadata does not contain optional property");return}n.throw(new Error("Metadata does not contain property "+e))}return s[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const n=await this._jsonService.getJson(t,{timeoutInSeconds:this._settings.requestTimeoutInSeconds});if(e.debug("got key set",n),!Array.isArray(n.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=n.keys,this._signingKeys}},Jr=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new re("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){return this._logger.create(`get('${e}')`),e=this._prefix+e,await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let n=0;n<e;n++){const s=await this._store.key(n);s&&s.indexOf(this._prefix)===0&&t.push(s.substr(this._prefix.length))}return t}},Jd="code",Gd="openid",Yd="client_secret_post",Qd=60*15,_r=class{constructor({authority:e,metadataUrl:t,metadata:n,signingKeys:s,metadataSeed:r,client_id:i,client_secret:o,response_type:a=Jd,scope:c=Gd,redirect_uri:l,post_logout_redirect_uri:u,client_authentication:d=Yd,prompt:h,display:g,max_age:w,ui_locales:b,acr_values:q,resource:P,response_mode:N,filterProtocolClaims:A=!0,loadUserInfo:E=!1,requestTimeoutInSeconds:V,staleStateAgeInSeconds:B=Qd,mergeClaimsStrategy:W={array:"replace"},disablePKCE:ae=!1,stateStore:ie,revokeTokenAdditionalContentTypes:he,fetchRequestCredentials:Ee,refreshTokenAllowedScope:Ae,extraQueryParams:xe={},extraTokenParams:Me={},extraHeaders:z={},dpop:G,omitScopeWhenRequesting:I=!1}){var U;if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=n,this.metadataSeed=r,this.signingKeys=s,this.client_id=i,this.client_secret=o,this.response_type=a,this.scope=c,this.redirect_uri=l,this.post_logout_redirect_uri=u,this.client_authentication=d,this.prompt=h,this.display=g,this.max_age=w,this.ui_locales=b,this.acr_values=q,this.resource=P,this.response_mode=N,this.filterProtocolClaims=A??!0,this.loadUserInfo=!!E,this.staleStateAgeInSeconds=B,this.mergeClaimsStrategy=W,this.omitScopeWhenRequesting=I,this.disablePKCE=!!ae,this.revokeTokenAdditionalContentTypes=he,this.fetchRequestCredentials=Ee||"same-origin",this.requestTimeoutInSeconds=V,ie)this.stateStore=ie;else{const Z=typeof window<"u"?window.localStorage:new Ua;this.stateStore=new Jr({store:Z})}if(this.refreshTokenAllowedScope=Ae,this.extraQueryParams=xe,this.extraTokenParams=Me,this.extraHeaders=z,this.dpop=G,this.dpop&&!((U=this.dpop)!=null&&U.store))throw new Error("A DPoPStore is required when dpop is enabled")}},Xd=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new re("UserInfoService"),this._getClaimsFromJwt=async n=>{const s=this._logger.create("_getClaimsFromJwt");try{const r=us.decode(n);return s.debug("JWT decoding successful"),r}catch(r){throw s.error("Error parsing JWT response"),r}},this._jsonService=new Kr(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const n=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",n);const s=await this._jsonService.getJson(n,{token:e,credentials:this._settings.fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return t.debug("got claims",s),s}},La=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new re("TokenClient"),this._jsonService=new Kr(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:n=this._settings.client_id,client_secret:s=this._settings.client_secret,extraHeaders:r,...i}){const o=this._logger.create("exchangeCode");n||o.throw(new Error("A client_id is required")),t||o.throw(new Error("A redirect_uri is required")),i.code||o.throw(new Error("A code is required"));const a=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[d,h]of Object.entries(i))h!=null&&a.set(d,h);let c;switch(this._settings.client_authentication){case"client_secret_basic":if(s==null)throw o.throw(new Error("A client_secret is required")),null;c=$e.generateBasicAuth(n,s);break;case"client_secret_post":a.append("client_id",n),s&&a.append("client_secret",s);break}const l=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const u=await this._jsonService.postForm(l,{body:a,basicAuth:c,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:r});return o.debug("got response"),u}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,scope:s=this._settings.scope,...r}){const i=this._logger.create("exchangeCredentials");t||i.throw(new Error("A client_id is required"));const o=new URLSearchParams({grant_type:e});this._settings.omitScopeWhenRequesting||o.set("scope",s);for(const[u,d]of Object.entries(r))d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(n==null)throw i.throw(new Error("A client_secret is required")),null;a=$e.generateBasicAuth(t,n);break;case"client_secret_post":o.append("client_id",t),n&&o.append("client_secret",n);break}const c=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const l=await this._jsonService.postForm(c,{body:o,basicAuth:a,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),l}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,timeoutInSeconds:s,extraHeaders:r,...i}){const o=this._logger.create("exchangeRefreshToken");t||o.throw(new Error("A client_id is required")),i.refresh_token||o.throw(new Error("A refresh_token is required"));const a=new URLSearchParams({grant_type:e});for(const[d,h]of Object.entries(i))Array.isArray(h)?h.forEach(g=>a.append(d,g)):h!=null&&a.set(d,h);let c;switch(this._settings.client_authentication){case"client_secret_basic":if(n==null)throw o.throw(new Error("A client_secret is required")),null;c=$e.generateBasicAuth(t,n);break;case"client_secret_post":a.append("client_id",t),n&&a.append("client_secret",n);break}const l=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const u=await this._jsonService.postForm(l,{body:a,basicAuth:c,timeoutInSeconds:s,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:r});return o.debug("got response"),u}async revoke(e){var t;const n=this._logger.create("revoke");e.token||n.throw(new Error("A token is required"));const s=await this._metadataService.getRevocationEndpoint(!1);n.debug(`got revocation endpoint, revoking ${(t=e.token_type_hint)!=null?t:"default token type"}`);const r=new URLSearchParams;for(const[i,o]of Object.entries(e))o!=null&&r.set(i,o);r.set("client_id",this._settings.client_id),this._settings.client_secret&&r.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(s,{body:r,timeoutInSeconds:this._settings.requestTimeoutInSeconds}),n.debug("got response")}},Zd=class{constructor(e,t,n){this._settings=e,this._metadataService=t,this._claimsService=n,this._logger=new re("ResponseValidator"),this._userInfoService=new Xd(this._settings,this._metadataService),this._tokenClient=new La(this._settings,this._metadataService)}async validateSigninResponse(e,t,n){const s=this._logger.create("validateSigninResponse");this._processSigninState(e,t),s.debug("state processed"),await this._processCode(e,t,n),s.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),s.debug("tokens validated"),await this._processClaims(e,t==null?void 0:t.skipUserInfo,e.isOpenId),s.debug("claims processed")}async validateCredentialsResponse(e,t){const n=this._logger.create("validateCredentialsResponse"),s=e.isOpenId&&!!e.id_token;s&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t,s),n.debug("claims processed")}async validateRefreshResponse(e,t){var n,s;const r=this._logger.create("validateRefreshResponse");e.userState=t.data,(n=e.session_state)!=null||(e.session_state=t.session_state),(s=e.scope)!=null||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),r.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const i=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,i),r.debug("claims processed")}validateSignoutResponse(e,t){const n=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&n.throw(new Error("State does not match")),n.debug("state validated"),e.userState=t.data,e.error)throw n.warn("Response was error",e.error),new Wt(e)}_processSigninState(e,t){var n;const s=this._logger.create("_processSigninState");if(t.id!==e.state&&s.throw(new Error("State does not match")),t.client_id||s.throw(new Error("No client_id on state")),t.authority||s.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&s.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&s.throw(new Error("client_id mismatch on settings vs. signin state")),s.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,(n=e.scope)!=null||(e.scope=t.scope),e.error)throw s.warn("Response was error",e.error),new Wt(e);t.code_verifier&&!e.code&&s.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,n=!0){const s=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token){s.debug("not loading user info");return}s.debug("loading user info");const r=await this._userInfoService.getClaims(e.access_token);s.debug("user info claims received from user info endpoint"),n&&r.sub!==e.profile.sub&&s.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(r)),s.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t,n){const s=this._logger.create("_processCode");if(e.code){s.debug("Validating code");const r=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,extraHeaders:n,...t.extraTokenParams});Object.assign(e,r)}else s.debug("No code to process")}_validateIdTokenAttributes(e,t){var n;const s=this._logger.create("_validateIdTokenAttributes");s.debug("decoding ID Token JWT");const r=us.decode((n=e.id_token)!=null?n:"");if(r.sub||s.throw(new Error("ID Token is missing a subject claim")),t){const i=us.decode(t);r.sub!==i.sub&&s.throw(new Error("sub in id_token does not match current sub")),r.auth_time&&r.auth_time!==i.auth_time&&s.throw(new Error("auth_time in id_token does not match original auth_time")),r.azp&&r.azp!==i.azp&&s.throw(new Error("azp in id_token does not match original azp")),!r.azp&&i.azp&&s.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=r}},ds=class mr{constructor(t){this.id=t.id||$e.generateUUIDv4(),this.data=t.data,t.created&&t.created>0?this.created=t.created:this.created=Et.getEpochTime(),this.request_type=t.request_type,this.url_state=t.url_state}toStorageString(){return new re("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(t){return re.createStatic("State","fromStorageString"),Promise.resolve(new mr(JSON.parse(t)))}static async clearStaleState(t,n){const s=re.createStatic("State","clearStaleState"),r=Et.getEpochTime()-n,i=await t.getAllKeys();s.debug("got keys",i);for(let o=0;o<i.length;o++){const a=i[o],c=await t.get(a);let l=!1;if(c)try{const u=await mr.fromStorageString(c);s.debug("got item from key:",a,u.created),u.created<=r&&(l=!0)}catch(u){s.error("Error parsing state for key:",a,u),l=!0}else s.debug("no item in storage for key:",a),l=!0;l&&(s.debug("removed item for key:",a),t.remove(a))}}},Fa=class yr extends ds{constructor(t){super(t),this.code_verifier=t.code_verifier,this.code_challenge=t.code_challenge,this.authority=t.authority,this.client_id=t.client_id,this.redirect_uri=t.redirect_uri,this.scope=t.scope,this.client_secret=t.client_secret,this.extraTokenParams=t.extraTokenParams,this.response_mode=t.response_mode,this.skipUserInfo=t.skipUserInfo}static async create(t){const n=t.code_verifier===!0?$e.generateCodeVerifier():t.code_verifier||void 0,s=n?await $e.generateCodeChallenge(n):void 0;return new yr({...t,code_verifier:n,code_challenge:s})}toStorageString(){return new re("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(t){re.createStatic("SigninState","fromStorageString");const n=JSON.parse(t);return yr.create(n)}},qa=class $a{constructor(t){this.url=t.url,this.state=t.state}static async create({url:t,authority:n,client_id:s,redirect_uri:r,response_type:i,scope:o,state_data:a,response_mode:c,request_type:l,client_secret:u,nonce:d,url_state:h,resource:g,skipUserInfo:w,extraQueryParams:b,extraTokenParams:q,disablePKCE:P,dpopJkt:N,omitScopeWhenRequesting:A,...E}){if(!t)throw this._logger.error("create: No url passed"),new Error("url");if(!s)throw this._logger.error("create: No client_id passed"),new Error("client_id");if(!r)throw this._logger.error("create: No redirect_uri passed"),new Error("redirect_uri");if(!i)throw this._logger.error("create: No response_type passed"),new Error("response_type");if(!o)throw this._logger.error("create: No scope passed"),new Error("scope");if(!n)throw this._logger.error("create: No authority passed"),new Error("authority");const V=await Fa.create({data:a,request_type:l,url_state:h,code_verifier:!P,client_id:s,authority:n,redirect_uri:r,response_mode:c,client_secret:u,scope:o,extraTokenParams:q,skipUserInfo:w}),B=new URL(t);B.searchParams.append("client_id",s),B.searchParams.append("redirect_uri",r),B.searchParams.append("response_type",i),A||B.searchParams.append("scope",o),d&&B.searchParams.append("nonce",d),N&&B.searchParams.append("dpop_jkt",N);let W=V.id;h&&(W=`${W}${dn}${h}`),B.searchParams.append("state",W),V.code_challenge&&(B.searchParams.append("code_challenge",V.code_challenge),B.searchParams.append("code_challenge_method","S256")),g&&(Array.isArray(g)?g:[g]).forEach(ie=>B.searchParams.append("resource",ie));for(const[ae,ie]of Object.entries({response_mode:c,...E,...b}))ie!=null&&B.searchParams.append(ae,ie.toString());return new $a({url:B.href,state:V})}};qa._logger=new re("SigninRequest");var ef=qa,tf="openid",Hs=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const t=decodeURIComponent(this.state).split(dn);this.state=t[0],t.length>1&&(this.url_state=t.slice(1).join(dn))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-Et.getEpochTime()}set expires_in(e){typeof e=="string"&&(e=Number(e)),e!==void 0&&e>=0&&(this.expires_at=Math.floor(e)+Et.getEpochTime())}get isOpenId(){var e;return((e=this.scope)==null?void 0:e.split(" ").includes(tf))||!!this.id_token}},nf=class{constructor({url:e,state_data:t,id_token_hint:n,post_logout_redirect_uri:s,extraQueryParams:r,request_type:i,client_id:o,url_state:a}){if(this._logger=new re("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const c=new URL(e);if(n&&c.searchParams.append("id_token_hint",n),o&&c.searchParams.append("client_id",o),s&&(c.searchParams.append("post_logout_redirect_uri",s),t||a)){this.state=new ds({data:t,request_type:i,url_state:a});let l=this.state.id;a&&(l=`${l}${dn}${a}`),c.searchParams.append("state",l)}for(const[l,u]of Object.entries({...r}))u!=null&&c.searchParams.append(l,u.toString());this.url=c.href}},sf=class{constructor(e){if(this.state=e.get("state"),this.state){const t=decodeURIComponent(this.state).split(dn);this.state=t[0],t.length>1&&(this.url_state=t.slice(1).join(dn))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},rf=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],of=["sub","iss","aud","exp","iat"],af=class{constructor(e){this._settings=e,this._logger=new re("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let n;Array.isArray(this._settings.filterProtocolClaims)?n=this._settings.filterProtocolClaims:n=rf;for(const s of n)of.includes(s)||delete t[s]}return t}mergeClaims(e,t){const n={...e};for(const[s,r]of Object.entries(t))if(n[s]!==r)if(Array.isArray(n[s])||Array.isArray(r))if(this._settings.mergeClaimsStrategy.array=="replace")n[s]=r;else{const i=Array.isArray(n[s])?n[s]:[n[s]];for(const o of Array.isArray(r)?r:[r])i.includes(o)||i.push(o);n[s]=i}else typeof n[s]=="object"&&typeof r=="object"?n[s]=this.mergeClaims(n[s],r):n[s]=r;return n}},ja=class{constructor(e,t){this.keys=e,this.nonce=t}},cf=class{constructor(e,t){this._logger=new re("OidcClient"),this.settings=e instanceof _r?e:new _r(e),this.metadataService=t??new Kd(this.settings),this._claimsService=new af(this.settings),this._validator=new Zd(this.settings,this.metadataService,this._claimsService),this._tokenClient=new La(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:n,request_type:s,id_token_hint:r,login_hint:i,skipUserInfo:o,nonce:a,url_state:c,response_type:l=this.settings.response_type,scope:u=this.settings.scope,redirect_uri:d=this.settings.redirect_uri,prompt:h=this.settings.prompt,display:g=this.settings.display,max_age:w=this.settings.max_age,ui_locales:b=this.settings.ui_locales,acr_values:q=this.settings.acr_values,resource:P=this.settings.resource,response_mode:N=this.settings.response_mode,extraQueryParams:A=this.settings.extraQueryParams,extraTokenParams:E=this.settings.extraTokenParams,dpopJkt:V,omitScopeWhenRequesting:B=this.settings.omitScopeWhenRequesting}){const W=this._logger.create("createSigninRequest");if(l!=="code")throw new Error("Only the Authorization Code flow (with PKCE) is supported");const ae=await this.metadataService.getAuthorizationEndpoint();W.debug("Received authorization endpoint",ae);const ie=await ef.create({url:ae,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:d,response_type:l,scope:u,state_data:e,url_state:c,prompt:h,display:g,max_age:w,ui_locales:b,id_token_hint:r,login_hint:i,acr_values:q,dpopJkt:V,resource:P,request:t,request_uri:n,extraQueryParams:A,extraTokenParams:E,request_type:s,response_mode:N,client_secret:this.settings.client_secret,skipUserInfo:o,nonce:a,disablePKCE:this.settings.disablePKCE,omitScopeWhenRequesting:B});await this.clearStaleState();const he=ie.state;return await this.settings.stateStore.set(he.id,he.toStorageString()),ie}async readSigninResponseState(e,t=!1){const n=this._logger.create("readSigninResponseState"),s=new Hs(pr.readParams(e,this.settings.response_mode));if(!s.state)throw n.throw(new Error("No state in response")),null;const r=await this.settings.stateStore[t?"remove":"get"](s.state);if(!r)throw n.throw(new Error("No matching state found in storage")),null;return{state:await Fa.fromStorageString(r),response:s}}async processSigninResponse(e,t,n=!0){const s=this._logger.create("processSigninResponse"),{state:r,response:i}=await this.readSigninResponseState(e,n);if(s.debug("received state from storage; validating response"),this.settings.dpop&&this.settings.dpop.store){const o=await this.getDpopProof(this.settings.dpop.store);t={...t,DPoP:o}}try{await this._validator.validateSigninResponse(i,r,t)}catch(o){if(o instanceof gr&&this.settings.dpop){const a=await this.getDpopProof(this.settings.dpop.store,o.nonce);t.DPoP=a,await this._validator.validateSigninResponse(i,r,t)}else throw o}return i}async getDpopProof(e,t){let n,s;return(await e.getAllKeys()).includes(this.settings.client_id)?(s=await e.get(this.settings.client_id),s.nonce!==t&&t&&(s.nonce=t,await e.set(this.settings.client_id,s))):(n=await $e.generateDPoPKeys(),s=new ja(n,t),await e.set(this.settings.client_id,s)),await $e.generateDPoPProof({url:await this.metadataService.getTokenEndpoint(!1),httpMethod:"POST",keyPair:s.keys,nonce:s.nonce})}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n=!1,extraTokenParams:s={}}){const r=await this._tokenClient.exchangeCredentials({username:e,password:t,...s}),i=new Hs(new URLSearchParams);return Object.assign(i,r),await this._validator.validateCredentialsResponse(i,n),i}async useRefreshToken({state:e,redirect_uri:t,resource:n,timeoutInSeconds:s,extraHeaders:r,extraTokenParams:i}){var o;const a=this._logger.create("useRefreshToken");let c;if(this.settings.refreshTokenAllowedScope===void 0)c=e.scope;else{const d=this.settings.refreshTokenAllowedScope.split(" ");c=(((o=e.scope)==null?void 0:o.split(" "))||[]).filter(g=>d.includes(g)).join(" ")}if(this.settings.dpop&&this.settings.dpop.store){const d=await this.getDpopProof(this.settings.dpop.store);r={...r,DPoP:d}}let l;try{l=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,scope:c,redirect_uri:t,resource:n,timeoutInSeconds:s,extraHeaders:r,...i})}catch(d){if(d instanceof gr&&this.settings.dpop)r.DPoP=await this.getDpopProof(this.settings.dpop.store,d.nonce),l=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,scope:c,redirect_uri:t,resource:n,timeoutInSeconds:s,extraHeaders:r,...i});else throw d}const u=new Hs(new URLSearchParams);return Object.assign(u,l),a.debug("validating response",u),await this._validator.validateRefreshResponse(u,{...e,scope:c}),u}async createSignoutRequest({state:e,id_token_hint:t,client_id:n,request_type:s,url_state:r,post_logout_redirect_uri:i=this.settings.post_logout_redirect_uri,extraQueryParams:o=this.settings.extraQueryParams}={}){const a=this._logger.create("createSignoutRequest"),c=await this.metadataService.getEndSessionEndpoint();if(!c)throw a.throw(new Error("No end session endpoint")),null;a.debug("Received end session endpoint",c),!n&&i&&!t&&(n=this.settings.client_id);const l=new nf({url:c,id_token_hint:t,client_id:n,post_logout_redirect_uri:i,state_data:e,extraQueryParams:o,request_type:s,url_state:r});await this.clearStaleState();const u=l.state;return u&&(a.debug("Signout request has state to persist"),await this.settings.stateStore.set(u.id,u.toStorageString())),l}async readSignoutResponseState(e,t=!1){const n=this._logger.create("readSignoutResponseState"),s=new sf(pr.readParams(e,this.settings.response_mode));if(!s.state){if(n.debug("No state in response"),s.error)throw n.warn("Response was error:",s.error),new Wt(s);return{state:void 0,response:s}}const r=await this.settings.stateStore[t?"remove":"get"](s.state);if(!r)throw n.throw(new Error("No matching state found in storage")),null;return{state:await ds.fromStorageString(r),response:s}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:n,response:s}=await this.readSignoutResponseState(e,!0);return n?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(s,n)):t.debug("No state from storage; skipping response validation"),s}clearStaleState(){return this._logger.create("clearStaleState"),ds.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},lf=class{constructor(e){this._userManager=e,this._logger=new re("SessionMonitor"),this._start=async t=>{const n=t.session_state;if(!n)return;const s=this._logger.create("_start");if(t.profile?(this._sub=t.profile.sub,s.debug("session_state",n,", sub",this._sub)):(this._sub=void 0,s.debug("session_state",n,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(n);return}try{const r=await this._userManager.metadataService.getCheckSessionIframe();if(r){s.debug("initializing check session iframe");const i=this._userManager.settings.client_id,o=this._userManager.settings.checkSessionIntervalInSeconds,a=this._userManager.settings.stopCheckSessionOnError,c=new zd(this._callback,i,r,o,a);await c.load(),this._checkSessionIFrame=c,c.start(n)}else s.warn("no check session iframe found in the metadata")}catch(r){s.error("Error from getCheckSessionIframe:",r instanceof Error?r.message:r)}},this._stop=()=>{const t=this._logger.create("_stop");if(this._sub=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const n=setInterval(async()=>{clearInterval(n);try{const s=await this._userManager.querySessionStatus();if(s){const r={session_state:s.session_state,profile:s.sub?{sub:s.sub}:null};this._start(r)}}catch(s){t.error("error from querySessionStatus",s instanceof Error?s.message:s)}},1e3)}},this._callback=async()=>{const t=this._logger.create("_callback");try{const n=await this._userManager.querySessionStatus();let s=!0;n&&this._checkSessionIFrame?n.sub===this._sub?(s=!1,this._checkSessionIFrame.start(n.session_state),t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",n.session_state),await this._userManager.events._raiseUserSessionChanged()):t.debug("different subject signed into OP",n.sub):t.debug("subject no longer signed into OP"),s?this._sub?await this._userManager.events._raiseUserSignedOut():await this._userManager.events._raiseUserSignedIn():t.debug("no change in session detected, no event to raise")}catch(n){this._sub&&(t.debug("Error calling queryCurrentSigninSession; raising signed out event",n),await this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(t=>{this._logger.error(t)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const t=await this._userManager.querySessionStatus();if(t){const n={session_state:t.session_state,profile:t.sub?{sub:t.sub}:null};this._start(n)}}}},Vs=class Ba{constructor(t){var n;this.id_token=t.id_token,this.session_state=(n=t.session_state)!=null?n:null,this.access_token=t.access_token,this.refresh_token=t.refresh_token,this.token_type=t.token_type,this.scope=t.scope,this.profile=t.profile,this.expires_at=t.expires_at,this.state=t.userState,this.url_state=t.url_state}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-Et.getEpochTime()}set expires_in(t){t!==void 0&&(this.expires_at=Math.floor(t)+Et.getEpochTime())}get expired(){const t=this.expires_in;if(t!==void 0)return t<=0}get scopes(){var t,n;return(n=(t=this.scope)==null?void 0:t.split(" "))!=null?n:[]}toStorageString(){return new re("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(t){return re.createStatic("User","fromStorageString"),new Ba(JSON.parse(t))}},Yi="oidc-client",Ha=class{constructor(){this._abort=new Nt("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:n,keepOpen:s}=await new Promise((r,i)=>{const o=a=>{var c;const l=a.data,u=(c=e.scriptOrigin)!=null?c:window.location.origin;if(!(a.origin!==u||(l==null?void 0:l.source)!==Yi)){try{const d=pr.readParams(l.url,e.response_mode).get("state");if(d||t.warn("no state found in response url"),a.source!==this._window&&d!==e.state)return}catch{this._dispose(),i(new Error("Invalid response from window"))}r(l)}};window.addEventListener("message",o,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",o,!1)),this._disposeHandlers.add(this._abort.addHandler(a=>{this._dispose(),i(a)}))});return t.debug("got response from window"),this._dispose(),s||this.close(),{url:n}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,n=!1,s=window.location.origin){e.postMessage({source:Yi,url:t,keepOpen:n},s)}},Va={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Wa="_blank",uf=60,df=2,za=10,ff=class extends _r{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:n=e.post_logout_redirect_uri,popupWindowFeatures:s=Va,popupWindowTarget:r=Wa,redirectMethod:i="assign",redirectTarget:o="self",iframeNotifyParentOrigin:a=e.iframeNotifyParentOrigin,iframeScriptOrigin:c=e.iframeScriptOrigin,requestTimeoutInSeconds:l,silent_redirect_uri:u=e.redirect_uri,silentRequestTimeoutInSeconds:d,automaticSilentRenew:h=!0,validateSubOnSilentRenew:g=!0,includeIdTokenInSilentRenew:w=!1,monitorSession:b=!1,monitorAnonymousSession:q=!1,checkSessionIntervalInSeconds:P=df,query_status_response_type:N="code",stopCheckSessionOnError:A=!0,revokeTokenTypes:E=["access_token","refresh_token"],revokeTokensOnSignout:V=!1,includeIdTokenInSilentSignout:B=!1,accessTokenExpiringNotificationTimeInSeconds:W=uf,userStore:ae}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=n,this.popupWindowFeatures=s,this.popupWindowTarget=r,this.redirectMethod=i,this.redirectTarget=o,this.iframeNotifyParentOrigin=a,this.iframeScriptOrigin=c,this.silent_redirect_uri=u,this.silentRequestTimeoutInSeconds=d||l||za,this.automaticSilentRenew=h,this.validateSubOnSilentRenew=g,this.includeIdTokenInSilentRenew=w,this.monitorSession=b,this.monitorAnonymousSession=q,this.checkSessionIntervalInSeconds=P,this.stopCheckSessionOnError=A,this.query_status_response_type=N,this.revokeTokenTypes=E,this.revokeTokensOnSignout=V,this.includeIdTokenInSilentSignout=B,this.accessTokenExpiringNotificationTimeInSeconds=W,ae)this.userStore=ae;else{const ie=typeof window<"u"?window.sessionStorage:new Ua;this.userStore=new Jr({store:ie})}}},Qi=class Ka extends Ha{constructor({silentRequestTimeoutInSeconds:t=za}){super(),this._logger=new re("IFrameWindow"),this._timeoutInSeconds=t,this._frame=Ka.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const t=window.document.createElement("iframe");return t.style.visibility="hidden",t.style.position="fixed",t.style.left="-1000px",t.style.top="0",t.width="0",t.height="0",window.document.body.appendChild(t),t}async navigate(t){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const n=setTimeout(()=>void this._abort.raise(new zr("IFrame timed out without a response")),this._timeoutInSeconds*1e3);return this._disposeHandlers.add(()=>clearTimeout(n)),await super.navigate(t)}close(){var t;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",n=>{var s;const r=n.target;(s=r.parentNode)==null||s.removeChild(r),this._abort.raise(new Error("IFrame removed from DOM"))},!0),(t=this._frame.contentWindow)==null||t.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(t,n){return super._notifyParent(window.parent,t,!1,n)}},hf=class{constructor(e){this._settings=e,this._logger=new re("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new Qi({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),Qi.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},pf=500,gf=1e3,Xi=class extends Ha{constructor({popupWindowTarget:e=Wa,popupWindowFeatures:t={},popupSignal:n}){super(),this._logger=new re("PopupWindow");const s=Gi.center({...Va,...t});this._window=window.open(void 0,e,Gi.serialize(s)),n&&n.addEventListener("abort",()=>{var r;this._abort.raise(new Error((r=n.reason)!=null?r:"Popup aborted"))}),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{if(!this._window||typeof this._window.closed!="boolean"||this._window.closed){this._abort.raise(new Error("Popup blocked by user"));return}this.close()},t.closePopupWindowAfterInSeconds*gf)}async navigate(e){var t;(t=this._window)==null||t.focus();const n=setInterval(()=>{(!this._window||this._window.closed)&&this._abort.raise(new Error("Popup closed by user"))},pf);return this._disposeHandlers.add(()=>clearInterval(n)),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},_f=class{constructor(e){this._settings=e,this._logger=new re("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget,popupSignal:n}){return new Xi({popupWindowFeatures:e,popupWindowTarget:t,popupSignal:n})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),Xi.notifyOpener(e,t)}},mf=class{constructor(e){this._settings=e,this._logger=new re("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var n;this._logger.create("prepare");let s=window.self;t==="top"&&(s=(n=window.top)!=null?n:window.self);const r=s.location[e].bind(s.location);let i;return{navigate:async o=>{this._logger.create("navigate");const a=new Promise((c,l)=>{i=l});return r(o.url),await a},close:()=>{this._logger.create("close"),i==null||i(new Error("Redirect aborted")),s.stop()}}}async callback(){}},yf=class extends Wd{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new re("UserManagerEvents"),this._userLoaded=new Nt("User loaded"),this._userUnloaded=new Nt("User unloaded"),this._silentRenewError=new Nt("Silent renew error"),this._userSignedIn=new Nt("User signed in"),this._userSignedOut=new Nt("User signed out"),this._userSessionChanged=new Nt("User session changed")}async load(e,t=!0){await super.load(e),t&&await this._userLoaded.raise(e)}async unload(){await super.unload(),await this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}async _raiseSilentRenewError(e){await this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}async _raiseUserSignedIn(){await this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}async _raiseUserSignedOut(){await this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}async _raiseUserSessionChanged(){await this._userSessionChanged.raise()}},vf=class{constructor(e){this._userManager=e,this._logger=new re("SilentRenewService"),this._isStarted=!1,this._retryTimer=new Et("Retry Silent Renew"),this._tokenExpiring=async()=>{const t=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),t.debug("silent token renewal successful")}catch(n){if(n instanceof zr){t.warn("ErrorTimeout from signinSilent:",n,"retry in 5s"),this._retryTimer.init(5);return}t.error("Error from signinSilent:",n),await this._userManager.events._raiseSilentRenewError(n)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},wf=class{constructor(e){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.data=e.state}},bf=class{constructor(e,t,n,s){this._logger=new re("UserManager"),this.settings=new ff(e),this._client=new cf(e),this._redirectNavigator=t??new mf(this.settings),this._popupNavigator=n??new _f(this.settings),this._iframeNavigator=s??new hf(this.settings),this._events=new yf(this.settings),this._silentRenewService=new vf(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new lf(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(e=!1){const t=this._logger.create("getUser"),n=await this._loadUser();return n?(t.info("user loaded"),await this._events.load(n,e),n):(t.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),await this._events.unload()}async signinRedirect(e={}){var t;this._logger.create("signinRedirect");const{redirectMethod:n,...s}=e;let r;(t=this.settings.dpop)!=null&&t.bind_authorization_code&&(r=await this.generateDPoPJkt(this.settings.dpop));const i=await this._redirectNavigator.prepare({redirectMethod:n});await this._signinStart({request_type:"si:r",dpopJkt:r,...s},i)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),n=await this._signinEnd(e);return n.profile&&n.profile.sub?t.info("success, signed in subject",n.profile.sub):t.info("no subject"),n}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:n=!1}){const s=this._logger.create("signinResourceOwnerCredential"),r=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n,extraTokenParams:this.settings.extraTokenParams});s.debug("got signin response");const i=await this._buildUser(r);return i.profile&&i.profile.sub?s.info("success, signed in subject",i.profile.sub):s.info("no subject"),i}async signinPopup(e={}){var t;const n=this._logger.create("signinPopup");let s;(t=this.settings.dpop)!=null&&t.bind_authorization_code&&(s=await this.generateDPoPJkt(this.settings.dpop));const{popupWindowFeatures:r,popupWindowTarget:i,popupSignal:o,...a}=e,c=this.settings.popup_redirect_uri;c||n.throw(new Error("No popup_redirect_uri configured"));const l=await this._popupNavigator.prepare({popupWindowFeatures:r,popupWindowTarget:i,popupSignal:o}),u=await this._signin({request_type:"si:p",redirect_uri:c,display:"popup",dpopJkt:s,...a},l);return u&&(u.profile&&u.profile.sub?n.info("success, signed in subject",u.profile.sub):n.info("no subject")),u}async signinPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async signinSilent(e={}){var t,n;const s=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:r,...i}=e;let o=await this._loadUser();if(o!=null&&o.refresh_token){s.debug("using refresh token");const d=new wf(o);return await this._useRefreshToken({state:d,redirect_uri:i.redirect_uri,resource:i.resource,extraTokenParams:i.extraTokenParams,timeoutInSeconds:r})}let a;(t=this.settings.dpop)!=null&&t.bind_authorization_code&&(a=await this.generateDPoPJkt(this.settings.dpop));const c=this.settings.silent_redirect_uri;c||s.throw(new Error("No silent_redirect_uri configured"));let l;o&&this.settings.validateSubOnSilentRenew&&(s.debug("subject prior to silent renew:",o.profile.sub),l=o.profile.sub);const u=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});return o=await this._signin({request_type:"si:s",redirect_uri:c,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o==null?void 0:o.id_token:void 0,dpopJkt:a,...i},u,l),o&&((n=o.profile)!=null&&n.sub?s.info("success, signed in subject",o.profile.sub):s.info("no subject")),o}async _useRefreshToken(e){const t=await this._client.useRefreshToken({timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds,...e}),n=new Vs({...e.state,...t});return await this.storeUser(n),await this._events.load(n),n}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":await this.signinPopupCallback(e);break;case"si:s":await this.signinSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:n}=await this._client.readSignoutResponseState(e);if(n)switch(n.request_type){case"so:r":return await this.signoutRedirectCallback(e);case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:n,...s}=e,r=this.settings.silent_redirect_uri;r||t.throw(new Error("No silent_redirect_uri configured"));const i=await this._loadUser(),o=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n}),a=await this._signinStart({request_type:"si:s",redirect_uri:r,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?i==null?void 0:i.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...s},o);try{const c={},l=await this._client.processSigninResponse(a.url,c);return t.debug("got signin response"),l.session_state&&l.profile.sub?(t.info("success for subject",l.profile.sub),{session_state:l.session_state,sub:l.profile.sub}):(t.info("success, user not authenticated"),null)}catch(c){if(this.settings.monitorAnonymousSession&&c instanceof Wt)switch(c.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:c.session_state}}throw c}}async _signin(e,t,n){const s=await this._signinStart(e,t);return await this._signinEnd(s.url,n)}async _signinStart(e,t){const n=this._logger.create("_signinStart");try{const s=await this._client.createSigninRequest(e);return n.debug("got signin request"),await t.navigate({url:s.url,state:s.state.id,response_mode:s.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(s){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),s}}async _signinEnd(e,t){const n=this._logger.create("_signinEnd"),s={},r=await this._client.processSigninResponse(e,s);return n.debug("got signin response"),await this._buildUser(r,t)}async _buildUser(e,t){const n=this._logger.create("_buildUser"),s=new Vs(e);if(t){if(t!==s.profile.sub)throw n.debug("current user does not match user returned from signin. sub from signin:",s.profile.sub),new Wt({...e,error:"login_required"});n.debug("current user matches user returned from signin")}return await this.storeUser(s),n.debug("user stored"),await this._events.load(s),s}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:n,...s}=e,r=await this._redirectNavigator.prepare({redirectMethod:n});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...s},r),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),n=await this._signoutEnd(e);return t.info("success"),n}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:n,popupWindowTarget:s,popupSignal:r,...i}=e,o=this.settings.popup_post_logout_redirect_uri,a=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:s,popupSignal:r});await this._signout({request_type:"so:p",post_logout_redirect_uri:o,state:o==null?void 0:{},...i},a),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async _signout(e,t){const n=await this._signoutStart(e,t);return await this._signoutEnd(n.url)}async _signoutStart(e={},t){var n;const s=this._logger.create("_signoutStart");try{const r=await this._loadUser();s.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(r);const i=e.id_token_hint||r&&r.id_token;i&&(s.debug("setting id_token_hint in signout request"),e.id_token_hint=i),await this.removeUser(),s.debug("user removed, creating signout request");const o=await this._client.createSignoutRequest(e);return s.debug("got signout request"),await t.navigate({url:o.url,state:(n=o.state)==null?void 0:n.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw s.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),n=await this._client.processSignoutResponse(e);return t.debug("got signout response"),n}async signoutSilent(e={}){var t;const n=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:s,...r}=e,i=this.settings.includeIdTokenInSilentSignout?(t=await this._loadUser())==null?void 0:t.id_token:void 0,o=this.settings.popup_post_logout_redirect_uri,a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:s});await this._signout({request_type:"so:s",post_logout_redirect_uri:o,id_token_hint:i,...r},a),n.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const n=this._logger.create("_revokeInternal");if(!e)return;const s=t.filter(r=>typeof e[r]=="string");if(!s.length){n.debug("no need to revoke due to no token(s)");return}for(const r of s)await this._client.revokeToken(e[r],r),n.info(`${r} revoked successfully`),r!=="access_token"&&(e[r]=null);await this.storeUser(e),n.debug("user stored"),await this._events.load(e)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),Vs.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const n=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,n)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey),this.settings.dpop&&await this.settings.dpop.store.remove(this.settings.client_id)}async clearStaleState(){await this._client.clearStaleState()}async dpopProof(e,t,n,s){var r,i;const o=await((i=(r=this.settings.dpop)==null?void 0:r.store)==null?void 0:i.get(this.settings.client_id));if(o)return await $e.generateDPoPProof({url:e,accessToken:t==null?void 0:t.access_token,httpMethod:n,keyPair:o.keys,nonce:s})}async generateDPoPJkt(e){let t=await e.store.get(this.settings.client_id);if(!t){const n=await $e.generateDPoPKeys();t=new ja(n),await e.store.set(this.settings.client_id,t)}return await $e.generateDPoPJkt(t.keys)}};const Ws=()=>window.location.origin+"/sample-frontend/pr-preview/pr-1",Sf={authority:"https://zitadel.scada.mzaniolo.net",client_id:"321035155483469052",redirect_uri:`${Ws()}/#/callback`,post_logout_redirect_uri:Ws(),response_type:"code",scope:"openid profile email",loadUserInfo:!0,automaticSilentRenew:!0,silent_redirect_uri:`${Ws()}/silent-renew.html`,includeIdToken:!0,includeAccessToken:!0,accessTokenExpiringNotificationTime:60},Ef=()=>({...Sf});class xf{constructor(){const t=Ef();this.userManager=new bf({...t,userStore:new Jr({store:window.localStorage})}),this.userManager.events.addUserLoaded(this.handleUserLoaded.bind(this)),this.userManager.events.addUserUnloaded(this.handleUserUnloaded.bind(this)),this.userManager.events.addSilentRenewError(this.handleSilentRenewError.bind(this)),this.userManager.events.addAccessTokenExpiring(this.handleAccessTokenExpiring.bind(this)),this.userManager.events.addAccessTokenExpired(this.handleAccessTokenExpired.bind(this))}async init(){try{return await this.userManager.getUser()}catch(t){return console.error("Error initializing auth service:",t),null}}async login(){try{await this.userManager.signinRedirect()}catch(t){throw console.error("Error during login:",t),t}}async handleCallback(){try{return await this.userManager.signinRedirectCallback()}catch(t){throw console.error("Error handling callback:",t),t}}async logout(){try{await this.userManager.signoutRedirect()}catch(t){throw console.error("Error during logout:",t),t}}async getUser(){try{return await this.userManager.getUser()}catch(t){return console.error("Error getting user:",t),null}}async getProfile(){try{const t=await this.getUser();return t==null?void 0:t.profile}catch(t){return console.error("Error getting profile:",t),null}}async getAccessToken(){try{const t=await this.getUser();return t==null?void 0:t.access_token}catch(t){return console.error("Error getting access token:",t),null}}async isAuthenticated(){const t=await this.getUser();return!!t&&!t.expired}handleUserLoaded(t){console.log("User loaded:",t)}handleUserUnloaded(){console.log("User unloaded")}handleSilentRenewError(t){console.error("Silent renew error:",t)}handleAccessTokenExpiring(){console.log("Access token is expiring")}handleAccessTokenExpired(){console.log("Access token has expired"),this.login()}}const Ct=new xf,Ja=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},Tf={class:"login-container"},kf={__name:"LoginView",setup(e){const t=Wr();bs(async()=>{await Ct.isAuthenticated()&&t.push("/dashboard")});const n=async()=>{try{await Ct.login()}catch(s){console.error("Login error:",s)}};return(s,r)=>(Xe(),rt("div",Tf,[j("div",{class:"login-box"},[r[0]||(r[0]=j("h1",null,"Login",-1)),j("button",{onClick:n,class:"login-button"},"Login with OIDC")])]))}},If=Ja(kf,[["__scopeId","data-v-8ce65c07"]]),Rf={class:"brk"},Af=["id"],vr={__name:"Breaker",props:{state:Object,name:String},setup(e){return(t,n)=>(Xe(),rt("div",Rf,[j("div",{class:"body",id:e.state[e.name].term_1&&e.state[e.name].close?"body_on":"body_off"},null,8,Af),j("div",{class:"term",id:"term_1",style:we(e.state[e.name].term_1?"background-color:  var(--line-on)":"background-color:  var(--line-off)")},null,4),j("div",{class:"term",id:"term_2",style:we(e.state[e.name].term_2?"background-color:  var(--line-on)":"background-color:  var(--line-off)")},null,4),j("div",{class:fn(e.state[e.name].close?"middle_on":"middle_off")},null,2)]))}},Zi={__name:"Bus",props:{e:Boolean},setup(e){return(t,n)=>(Xe(),rt("div",{class:"bus",style:we(e.e?"background-color:  var(--line-on); border-color: var(--line-on)":"background-color:  var(--line-off); border-color: var(--line-off)")},null,4))}},Wn={__name:"V_line",props:{e:Boolean},setup(e){return(t,n)=>(Xe(),rt("div",{class:"v-line",style:we(e.e?"background-color:  var(--line-on)":"background-color:  var(--line-off)")},null,4))}},Nf={class:"sec"},Of={__name:"Sec",props:{state:Object,name:String},setup(e){return(t,n)=>(Xe(),rt("div",Nf,[j("div",{class:"body",style:we(e.state[e.name].close?"background-color:  var(--sec-on);":"background-color:  var(--off)")},null,4),j("div",{class:"term",id:"term_1",style:we(e.state[e.name].term_1?"background-color:  var(--line-on)":"background-color:  var(--line-off)")},null,4),j("div",{class:"term",id:"term_2",style:we(e.state[e.name].term_2?"background-color:  var(--line-on)":"background-color:  var(--line-off)")},null,4),j("div",{class:fn(e.state[e.name].close?"middle_on":"middle_off")},null,2)]))}},Cf={class:"grp"},zn={__name:"sec_brk",props:{brk_1:String,brk_2:String,sec:String,state:Object},setup(e){return(t,n)=>(Xe(),rt("div",Cf,[fe(vr,{id:"brk_1",state:e.state,name:e.brk_1},null,8,["state","name"]),fe(Of,{id:"sec",state:e.state,name:e.sec},null,8,["state","name"]),fe(vr,{id:"brk_2",state:e.state,name:e.brk_2},null,8,["state","name"])]))}},Pf={class:"src"},Df={__name:"src",props:{e:Boolean},setup(e){return(t,n)=>(Xe(),rt("div",Pf,[j("div",{class:"body",style:we(e.e?"background-color: var(--line-on); border-color: var(--line-on)":"background-color: var(--off); border-color: var(--line-off)")},n[0]||(n[0]=[j("div",{class:"wave"},[j("svg",{viewBox:"0 0 100 40",preserveAspectRatio:"none"},[j("path",{d:"M0,20 Q25,-20 50,20 T100,20"})])],-1)]),4),j("div",{class:"term",style:we(e.e?"background-color: var(--line-on)":"background-color: var(--line-off)")},null,4)]))}};function qe(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function jt(e){return qe(e)==="object"}function Mf(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function eo(e,t){return e.length<124?e:t}const Uf="graphql-transport-ws";var Ke;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(Ke||(Ke={}));var Se;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(Se||(Se={}));function Ga(e){if(!jt(e))throw new Error(`Message is expected to be an object, but got ${qe(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${qe(e.type)}`);switch(e.type){case Se.ConnectionInit:case Se.ConnectionAck:case Se.Ping:case Se.Pong:{if(e.payload!=null&&!jt(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case Se.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${qe(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!jt(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${qe(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${qe(e.payload.query)}`);if(e.payload.variables!=null&&!jt(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${qe(e.payload.variables)}`);if(e.payload.operationName!=null&&qe(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${qe(e.payload.operationName)}`);if(e.payload.extensions!=null&&!jt(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${qe(e.payload.extensions)}`);break}case Se.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${qe(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!jt(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${qe(e.payload)}`);break}case Se.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${qe(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Mf(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case Se.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${qe(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function Lf(e,t){return Ga(typeof e=="string"?JSON.parse(e,t):e)}function vn(e,t){return Ga(e),JSON.stringify(e,t)}var on=function(e){return this instanceof on?(this.v=e,this):new on(e)},Ff=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),r,i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){s[h]&&(r[h]=function(g){return new Promise(function(w,b){i.push([h,g,w,b])>1||a(h,g)})})}function a(h,g){try{c(s[h](g))}catch(w){d(i[0][3],w)}}function c(h){h.value instanceof on?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,g){h(g),i.shift(),i.length&&a(i[0][0],i[0][1])}};function qf(e){const{url:t,connectionParams:n,lazy:s=!0,onNonLazyError:r=console.error,lazyCloseTimeout:i=0,keepAlive:o=0,disablePong:a,connectionAckWaitTimeout:c=0,retryAttempts:l=5,retryWait:u=async function(G){let I=1e3;for(let U=0;U<G;U++)I*=2;await new Promise(U=>setTimeout(U,I+Math.floor(Math.random()*2700+300)))},shouldRetry:d=zs,isFatalConnectionProblem:h,on:g,webSocketImpl:w,generateID:b=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,G=>{const I=Math.random()*16|0;return(G=="x"?I:I&3|8).toString(16)})},jsonMessageReplacer:q,jsonMessageReviver:P}=e;let N;if(w){if(!jf(w))throw new Error("Invalid WebSocket implementation provided");N=w}else typeof WebSocket<"u"?N=WebSocket:typeof global<"u"?N=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(N=window.WebSocket||window.MozWebSocket);if(!N)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const A=N,E=(()=>{const z=(()=>{const I={};return{on(U,Z){return I[U]=Z,()=>{delete I[U]}},emit(U){var Z;"id"in U&&((Z=I[U.id])===null||Z===void 0||Z.call(I,U))}}})(),G={connecting:g!=null&&g.connecting?[g.connecting]:[],opened:g!=null&&g.opened?[g.opened]:[],connected:g!=null&&g.connected?[g.connected]:[],ping:g!=null&&g.ping?[g.ping]:[],pong:g!=null&&g.pong?[g.pong]:[],message:g!=null&&g.message?[z.emit,g.message]:[z.emit],closed:g!=null&&g.closed?[g.closed]:[],error:g!=null&&g.error?[g.error]:[]};return{onMessage:z.on,on(I,U){const Z=G[I];return Z.push(U),()=>{Z.splice(Z.indexOf(U),1)}},emit(I,...U){for(const Z of[...G[I]])Z(...U)}}})();function V(z){const G=[E.on("error",I=>{G.forEach(U=>U()),z(I)}),E.on("closed",I=>{G.forEach(U=>U()),z(I)})]}let B,W=0,ae,ie=!1,he=0,Ee=!1;async function Ae(){clearTimeout(ae);const[z,G]=await(B??(B=new Promise((Z,me)=>(async()=>{if(ie){if(await u(he),!W)return B=void 0,me({code:1e3,reason:"All Subscriptions Gone"});he++}E.emit("connecting",ie);const ee=new A(typeof t=="function"?await t():t,Uf);let ye,Fe;function je(){isFinite(o)&&o>0&&(clearTimeout(Fe),Fe=setTimeout(()=>{ee.readyState===A.OPEN&&(ee.send(vn({type:Se.Ping})),E.emit("ping",!1,void 0))},o))}V(M=>{B=void 0,clearTimeout(ye),clearTimeout(Fe),me(M),M instanceof to&&(ee.close(4499,"Terminated"),ee.onerror=null,ee.onclose=null)}),ee.onerror=M=>E.emit("error",M),ee.onclose=M=>E.emit("closed",M),ee.onopen=async()=>{try{E.emit("opened",ee);const M=typeof n=="function"?await n():n;if(ee.readyState!==A.OPEN)return;ee.send(vn(M?{type:Se.ConnectionInit,payload:M}:{type:Se.ConnectionInit},q)),isFinite(c)&&c>0&&(ye=setTimeout(()=>{ee.close(Ke.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},c)),je()}catch(M){E.emit("error",M),ee.close(Ke.InternalClientError,eo(M instanceof Error?M.message:new Error(M).message,"Internal client error"))}};let te=!1;ee.onmessage=({data:M})=>{try{const _=Lf(M,P);if(E.emit("message",_),_.type==="ping"||_.type==="pong"){E.emit(_.type,!0,_.payload),_.type==="pong"?je():a||(ee.send(vn(_.payload?{type:Se.Pong,payload:_.payload}:{type:Se.Pong})),E.emit("pong",!1,_.payload));return}if(te)return;if(_.type!==Se.ConnectionAck)throw new Error(`First message cannot be of type ${_.type}`);clearTimeout(ye),te=!0,E.emit("connected",ee,_.payload,ie),ie=!1,he=0,Z([ee,new Promise((R,k)=>V(k))])}catch(_){ee.onmessage=null,E.emit("error",_),ee.close(Ke.BadResponse,eo(_ instanceof Error?_.message:new Error(_).message,"Bad response"))}}})())));z.readyState===A.CLOSING&&await G;let I=()=>{};const U=new Promise(Z=>I=Z);return[z,I,Promise.race([U.then(()=>{if(!W){const Z=()=>z.close(1e3,"Normal Closure");isFinite(i)&&i>0?ae=setTimeout(()=>{z.readyState===A.OPEN&&Z()},i):Z()}}),G])]}function xe(z){if(zs(z)&&($f(z.code)||[Ke.InternalServerError,Ke.InternalClientError,Ke.BadRequest,Ke.BadResponse,Ke.Unauthorized,Ke.SubprotocolNotAcceptable,Ke.SubscriberAlreadyExists,Ke.TooManyInitialisationRequests].includes(z.code)))throw z;if(Ee)return!1;if(zs(z)&&z.code===1e3)return W>0;if(!l||he>=l||!d(z)||h!=null&&h(z))throw z;return ie=!0}s||(async()=>{for(W++;;)try{const[,,z]=await Ae();await z}catch(z){try{if(!xe(z))return}catch(G){return r==null?void 0:r(G)}}})();function Me(z,G){const I=b(z);let U=!1,Z=!1,me=()=>{W--,U=!0};return(async()=>{for(W++;;)try{const[ee,ye,Fe]=await Ae();if(U)return ye();const je=E.onMessage(I,te=>{switch(te.type){case Se.Next:{G.next(te.payload);return}case Se.Error:{Z=!0,U=!0,G.error(te.payload),me();return}case Se.Complete:{U=!0,me();return}}});ee.send(vn({id:I,type:Se.Subscribe,payload:z},q)),me=()=>{!U&&ee.readyState===A.OPEN&&ee.send(vn({id:I,type:Se.Complete},q)),W--,U=!0,ye()},await Fe.finally(je);return}catch(ee){if(!xe(ee))return}})().then(()=>{Z||G.complete()}).catch(ee=>{G.error(ee)}),()=>{U||me()}}return{on:E.on,subscribe:Me,iterate(z){const G=[],I={done:!1,error:null,resolve:()=>{}},U=Me(z,{next(me){G.push(me),I.resolve()},error(me){I.done=!0,I.error=me,I.resolve()},complete(){I.done=!0,I.resolve()}}),Z=function(){return Ff(this,arguments,function*(){for(;;){for(G.length||(yield on(new Promise(ye=>I.resolve=ye)));G.length;)yield yield on(G.shift());if(I.error)throw I.error;if(I.done)return yield on(void 0)}})}();return Z.throw=async me=>(I.done||(I.done=!0,I.error=me,I.resolve()),{done:!0,value:void 0}),Z.return=async()=>(U(),{done:!0,value:void 0}),Z},async dispose(){if(Ee=!0,B){const[z]=await B;z.close(1e3,"Normal Closure")}},terminate(){B&&E.emit("closed",new to)}}}class to extends Error{constructor(){super(...arguments),this.name="TerminatedCloseEvent",this.message="4499: Terminated",this.code=4499,this.reason="Terminated",this.wasClean=!1}}function zs(e){return jt(e)&&"code"in e&&"reason"in e}function $f(e){return[1e3,1001,1006,1005,1012,1013,1014].includes(e)?!1:e>=1e3&&e<=1999}function jf(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}function Zn(e,t){if(!!!e)throw new Error(t)}function Bf(e){return typeof e=="object"&&e!==null}function Hf(e,t){if(!!!e)throw new Error("Unexpected invariant triggered.")}const Vf=/\r\n|[\n\r]/g;function wr(e,t){let n=0,s=1;for(const r of e.body.matchAll(Vf)){if(typeof r.index=="number"||Hf(!1),r.index>=t)break;n=r.index+r[0].length,s+=1}return{line:s,column:t+1-n}}function Wf(e){return Ya(e.source,wr(e.source,e.start))}function Ya(e,t){const n=e.locationOffset.column-1,s="".padStart(n)+e.body,r=t.line-1,i=e.locationOffset.line-1,o=t.line+i,a=t.line===1?n:0,c=t.column+a,l=`${e.name}:${o}:${c}
`,u=s.split(/\r\n|[\n\r]/g),d=u[r];if(d.length>120){const h=Math.floor(c/80),g=c%80,w=[];for(let b=0;b<d.length;b+=80)w.push(d.slice(b,b+80));return l+no([[`${o} |`,w[0]],...w.slice(1,h+1).map(b=>["|",b]),["|","^".padStart(g)],["|",w[h+1]]])}return l+no([[`${o-1} |`,u[r-1]],[`${o} |`,d],["|","^".padStart(c)],[`${o+1} |`,u[r+1]]])}function no(e){const t=e.filter(([s,r])=>r!==void 0),n=Math.max(...t.map(([s])=>s.length));return t.map(([s,r])=>s.padStart(n)+(r?" "+r:"")).join(`
`)}function zf(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class Gr extends Error{constructor(t,...n){var s,r,i;const{nodes:o,source:a,positions:c,path:l,originalError:u,extensions:d}=zf(n);super(t),this.name="GraphQLError",this.path=l??void 0,this.originalError=u??void 0,this.nodes=so(Array.isArray(o)?o:o?[o]:void 0);const h=so((s=this.nodes)===null||s===void 0?void 0:s.map(w=>w.loc).filter(w=>w!=null));this.source=a??(h==null||(r=h[0])===null||r===void 0?void 0:r.source),this.positions=c??(h==null?void 0:h.map(w=>w.start)),this.locations=c&&a?c.map(w=>wr(a,w)):h==null?void 0:h.map(w=>wr(w.source,w.start));const g=Bf(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(i=d??g)!==null&&i!==void 0?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Gr):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+Wf(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+Ya(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function so(e){return e===void 0||e.length===0?void 0:e}function Ie(e,t,n){return new Gr(`Syntax Error: ${n}`,{source:e,positions:[t]})}class Kf{constructor(t,n,s){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=s}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Qa{constructor(t,n,s,r,i,o){this.kind=t,this.start=n,this.end=s,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Xa={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Jf=new Set(Object.keys(Xa));function ro(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&Jf.has(t)}var Bt;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(Bt||(Bt={}));var br;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(br||(br={}));var K;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(K||(K={}));function Sr(e){return e===9||e===32}function qn(e){return e>=48&&e<=57}function Za(e){return e>=97&&e<=122||e>=65&&e<=90}function ec(e){return Za(e)||e===95}function Gf(e){return Za(e)||qn(e)||e===95}function Yf(e){var t;let n=Number.MAX_SAFE_INTEGER,s=null,r=-1;for(let o=0;o<e.length;++o){var i;const a=e[o],c=Qf(a);c!==a.length&&(s=(i=s)!==null&&i!==void 0?i:o,r=o,o!==0&&c<n&&(n=c))}return e.map((o,a)=>a===0?o:o.slice(n)).slice((t=s)!==null&&t!==void 0?t:0,r+1)}function Qf(e){let t=0;for(;t<e.length&&Sr(e.charCodeAt(t));)++t;return t}function Xf(e,t){const n=e.replace(/"""/g,'\\"""'),s=n.split(/\r\n|[\n\r]/g),r=s.length===1,i=s.length>1&&s.slice(1).every(g=>g.length===0||Sr(g.charCodeAt(0))),o=n.endsWith('\\"""'),a=e.endsWith('"')&&!o,c=e.endsWith("\\"),l=a||c,u=!r||e.length>70||l||i||o;let d="";const h=r&&Sr(e.charCodeAt(0));return(u&&!h||i)&&(d+=`
`),d+=n,(u||l)&&(d+=`
`),'"""'+d+'"""'}var v;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(v||(v={}));class Zf{constructor(t){const n=new Qa(v.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==v.EOF)do if(t.next)t=t.next;else{const n=th(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===v.COMMENT);return t}}function eh(e){return e===v.BANG||e===v.DOLLAR||e===v.AMP||e===v.PAREN_L||e===v.PAREN_R||e===v.SPREAD||e===v.COLON||e===v.EQUALS||e===v.AT||e===v.BRACKET_L||e===v.BRACKET_R||e===v.BRACE_L||e===v.PIPE||e===v.BRACE_R}function hn(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function ks(e,t){return tc(e.charCodeAt(t))&&nc(e.charCodeAt(t+1))}function tc(e){return e>=55296&&e<=56319}function nc(e){return e>=56320&&e<=57343}function zt(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return v.EOF;if(n>=32&&n<=126){const s=String.fromCodePoint(n);return s==='"'?`'"'`:`"${s}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Te(e,t,n,s,r){const i=e.line,o=1+n-e.lineStart;return new Qa(t,n,s,i,o,r)}function th(e,t){const n=e.source.body,s=n.length;let r=t;for(;r<s;){const i=n.charCodeAt(r);switch(i){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:n.charCodeAt(r+1)===10?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return nh(e,r);case 33:return Te(e,v.BANG,r,r+1);case 36:return Te(e,v.DOLLAR,r,r+1);case 38:return Te(e,v.AMP,r,r+1);case 40:return Te(e,v.PAREN_L,r,r+1);case 41:return Te(e,v.PAREN_R,r,r+1);case 46:if(n.charCodeAt(r+1)===46&&n.charCodeAt(r+2)===46)return Te(e,v.SPREAD,r,r+3);break;case 58:return Te(e,v.COLON,r,r+1);case 61:return Te(e,v.EQUALS,r,r+1);case 64:return Te(e,v.AT,r,r+1);case 91:return Te(e,v.BRACKET_L,r,r+1);case 93:return Te(e,v.BRACKET_R,r,r+1);case 123:return Te(e,v.BRACE_L,r,r+1);case 124:return Te(e,v.PIPE,r,r+1);case 125:return Te(e,v.BRACE_R,r,r+1);case 34:return n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34?ch(e,r):rh(e,r)}if(qn(i)||i===45)return sh(e,r,i);if(ec(i))return lh(e,r);throw Ie(e.source,r,i===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:hn(i)||ks(n,r)?`Unexpected character: ${zt(e,r)}.`:`Invalid character: ${zt(e,r)}.`)}return Te(e,v.EOF,s,s)}function nh(e,t){const n=e.source.body,s=n.length;let r=t+1;for(;r<s;){const i=n.charCodeAt(r);if(i===10||i===13)break;if(hn(i))++r;else if(ks(n,r))r+=2;else break}return Te(e,v.COMMENT,t,r,n.slice(t+1,r))}function sh(e,t,n){const s=e.source.body;let r=t,i=n,o=!1;if(i===45&&(i=s.charCodeAt(++r)),i===48){if(i=s.charCodeAt(++r),qn(i))throw Ie(e.source,r,`Invalid number, unexpected digit after 0: ${zt(e,r)}.`)}else r=Ks(e,r,i),i=s.charCodeAt(r);if(i===46&&(o=!0,i=s.charCodeAt(++r),r=Ks(e,r,i),i=s.charCodeAt(r)),(i===69||i===101)&&(o=!0,i=s.charCodeAt(++r),(i===43||i===45)&&(i=s.charCodeAt(++r)),r=Ks(e,r,i),i=s.charCodeAt(r)),i===46||ec(i))throw Ie(e.source,r,`Invalid number, expected digit but got: ${zt(e,r)}.`);return Te(e,o?v.FLOAT:v.INT,t,r,s.slice(t,r))}function Ks(e,t,n){if(!qn(n))throw Ie(e.source,t,`Invalid number, expected digit but got: ${zt(e,t)}.`);const s=e.source.body;let r=t+1;for(;qn(s.charCodeAt(r));)++r;return r}function rh(e,t){const n=e.source.body,s=n.length;let r=t+1,i=r,o="";for(;r<s;){const a=n.charCodeAt(r);if(a===34)return o+=n.slice(i,r),Te(e,v.STRING,t,r+1,o);if(a===92){o+=n.slice(i,r);const c=n.charCodeAt(r+1)===117?n.charCodeAt(r+2)===123?ih(e,r):oh(e,r):ah(e,r);o+=c.value,r+=c.size,i=r;continue}if(a===10||a===13)break;if(hn(a))++r;else if(ks(n,r))r+=2;else throw Ie(e.source,r,`Invalid character within String: ${zt(e,r)}.`)}throw Ie(e.source,r,"Unterminated string.")}function ih(e,t){const n=e.source.body;let s=0,r=3;for(;r<12;){const i=n.charCodeAt(t+r++);if(i===125){if(r<5||!hn(s))break;return{value:String.fromCodePoint(s),size:r}}if(s=s<<4|Sn(i),s<0)break}throw Ie(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+r)}".`)}function oh(e,t){const n=e.source.body,s=io(n,t+2);if(hn(s))return{value:String.fromCodePoint(s),size:6};if(tc(s)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const r=io(n,t+8);if(nc(r))return{value:String.fromCodePoint(s,r),size:12}}throw Ie(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function io(e,t){return Sn(e.charCodeAt(t))<<12|Sn(e.charCodeAt(t+1))<<8|Sn(e.charCodeAt(t+2))<<4|Sn(e.charCodeAt(t+3))}function Sn(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function ah(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Ie(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function ch(e,t){const n=e.source.body,s=n.length;let r=e.lineStart,i=t+3,o=i,a="";const c=[];for(;i<s;){const l=n.charCodeAt(i);if(l===34&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34){a+=n.slice(o,i),c.push(a);const u=Te(e,v.BLOCK_STRING,t,i+3,Yf(c).join(`
`));return e.line+=c.length-1,e.lineStart=r,u}if(l===92&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34&&n.charCodeAt(i+3)===34){a+=n.slice(o,i),o=i+1,i+=4;continue}if(l===10||l===13){a+=n.slice(o,i),c.push(a),l===13&&n.charCodeAt(i+1)===10?i+=2:++i,a="",o=i,r=i;continue}if(hn(l))++i;else if(ks(n,i))i+=2;else throw Ie(e.source,i,`Invalid character within String: ${zt(e,i)}.`)}throw Ie(e.source,i,"Unterminated string.")}function lh(e,t){const n=e.source.body,s=n.length;let r=t+1;for(;r<s;){const i=n.charCodeAt(r);if(Gf(i))++r;else break}return Te(e,v.NAME,t,r,n.slice(t,r))}const uh=10,sc=2;function Yr(e){return Is(e,[])}function Is(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return dh(e,t);default:return String(e)}}function dh(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(fh(e)){const s=e.toJSON();if(s!==e)return typeof s=="string"?s:Is(s,n)}else if(Array.isArray(e))return ph(e,n);return hh(e,n)}function fh(e){return typeof e.toJSON=="function"}function hh(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>sc?"["+gh(e)+"]":"{ "+n.map(([r,i])=>r+": "+Is(i,t)).join(", ")+" }"}function ph(e,t){if(e.length===0)return"[]";if(t.length>sc)return"[Array]";const n=Math.min(uh,e.length),s=e.length-n,r=[];for(let i=0;i<n;++i)r.push(Is(e[i],t));return s===1?r.push("... 1 more item"):s>1&&r.push(`... ${s} more items`),"["+r.join(", ")+"]"}function gh(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const _h=globalThis.process&&!0,mh=_h?function(t,n){return t instanceof n}:function(t,n){if(t instanceof n)return!0;if(typeof t=="object"&&t!==null){var s;const r=n.prototype[Symbol.toStringTag],i=Symbol.toStringTag in t?t[Symbol.toStringTag]:(s=t.constructor)===null||s===void 0?void 0:s.name;if(r===i){const o=Yr(t);throw new Error(`Cannot use ${r} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class rc{constructor(t,n="GraphQL request",s={line:1,column:1}){typeof t=="string"||Zn(!1,`Body must be a string. Received: ${Yr(t)}.`),this.body=t,this.name=n,this.locationOffset=s,this.locationOffset.line>0||Zn(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Zn(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function yh(e){return mh(e,rc)}function vh(e,t){return new wh(e,t).parseDocument()}class wh{constructor(t,n={}){const s=yh(t)?t:new rc(t);this._lexer=new Zf(s),this._options=n,this._tokenCounter=0}parseName(){const t=this.expectToken(v.NAME);return this.node(t,{kind:K.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:K.DOCUMENT,definitions:this.many(v.SOF,this.parseDefinition,v.EOF)})}parseDefinition(){if(this.peek(v.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===v.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw Ie(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(v.BRACE_L))return this.node(t,{kind:K.OPERATION_DEFINITION,operation:Bt.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let s;return this.peek(v.NAME)&&(s=this.parseName()),this.node(t,{kind:K.OPERATION_DEFINITION,operation:n,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(v.NAME);switch(t.value){case"query":return Bt.QUERY;case"mutation":return Bt.MUTATION;case"subscription":return Bt.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(v.PAREN_L,this.parseVariableDefinition,v.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:K.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(v.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(v.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(v.DOLLAR),this.node(t,{kind:K.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:K.SELECTION_SET,selections:this.many(v.BRACE_L,this.parseSelection,v.BRACE_R)})}parseSelection(){return this.peek(v.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let s,r;return this.expectOptionalToken(v.COLON)?(s=n,r=this.parseName()):r=n,this.node(t,{kind:K.FIELD,alias:s,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(v.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(v.PAREN_L,n,v.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,s=this.parseName();return this.expectToken(v.COLON),this.node(n,{kind:K.ARGUMENT,name:s,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(v.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(v.NAME)?this.node(t,{kind:K.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:K.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:K.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:K.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case v.BRACKET_L:return this.parseList(t);case v.BRACE_L:return this.parseObject(t);case v.INT:return this.advanceLexer(),this.node(n,{kind:K.INT,value:n.value});case v.FLOAT:return this.advanceLexer(),this.node(n,{kind:K.FLOAT,value:n.value});case v.STRING:case v.BLOCK_STRING:return this.parseStringLiteral();case v.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:K.BOOLEAN,value:!0});case"false":return this.node(n,{kind:K.BOOLEAN,value:!1});case"null":return this.node(n,{kind:K.NULL});default:return this.node(n,{kind:K.ENUM,value:n.value})}case v.DOLLAR:if(t)if(this.expectToken(v.DOLLAR),this._lexer.token.kind===v.NAME){const s=this._lexer.token.value;throw Ie(this._lexer.source,n.start,`Unexpected variable "$${s}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:K.STRING,value:t.value,block:t.kind===v.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:K.LIST,values:this.any(v.BRACKET_L,n,v.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:K.OBJECT,fields:this.any(v.BRACE_L,n,v.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,s=this.parseName();return this.expectToken(v.COLON),this.node(n,{kind:K.OBJECT_FIELD,name:s,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(v.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(v.AT),this.node(n,{kind:K.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(v.BRACKET_L)){const s=this.parseTypeReference();this.expectToken(v.BRACKET_R),n=this.node(t,{kind:K.LIST_TYPE,type:s})}else n=this.parseNamedType();return this.expectOptionalToken(v.BANG)?this.node(t,{kind:K.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:K.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(v.STRING)||this.peek(v.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const s=this.parseConstDirectives(),r=this.many(v.BRACE_L,this.parseOperationTypeDefinition,v.BRACE_R);return this.node(t,{kind:K.SCHEMA_DEFINITION,description:n,directives:s,operationTypes:r})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(v.COLON);const s=this.parseNamedType();return this.node(t,{kind:K.OPERATION_TYPE_DEFINITION,operation:n,type:s})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const s=this.parseName(),r=this.parseConstDirectives();return this.node(t,{kind:K.SCALAR_TYPE_DEFINITION,description:n,name:s,directives:r})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const s=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:K.OBJECT_TYPE_DEFINITION,description:n,name:s,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(v.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(v.BRACE_L,this.parseFieldDefinition,v.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),s=this.parseName(),r=this.parseArgumentDefs();this.expectToken(v.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(t,{kind:K.FIELD_DEFINITION,description:n,name:s,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(v.PAREN_L,this.parseInputValueDef,v.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),s=this.parseName();this.expectToken(v.COLON);const r=this.parseTypeReference();let i;this.expectOptionalToken(v.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(t,{kind:K.INPUT_VALUE_DEFINITION,description:n,name:s,type:r,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const s=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:K.INTERFACE_TYPE_DEFINITION,description:n,name:s,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const s=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(t,{kind:K.UNION_TYPE_DEFINITION,description:n,name:s,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(v.EQUALS)?this.delimitedMany(v.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const s=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(t,{kind:K.ENUM_TYPE_DEFINITION,description:n,name:s,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(v.BRACE_L,this.parseEnumValueDefinition,v.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),s=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(t,{kind:K.ENUM_VALUE_DEFINITION,description:n,name:s,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Ie(this._lexer.source,this._lexer.token.start,`${Kn(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const s=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(t,{kind:K.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:s,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(v.BRACE_L,this.parseInputValueDef,v.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===v.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),s=this.optionalMany(v.BRACE_L,this.parseOperationTypeDefinition,v.BRACE_R);if(n.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:K.SCHEMA_EXTENSION,directives:n,operationTypes:s})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),s=this.parseConstDirectives();if(s.length===0)throw this.unexpected();return this.node(t,{kind:K.SCALAR_TYPE_EXTENSION,name:n,directives:s})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),s=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(s.length===0&&r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:K.OBJECT_TYPE_EXTENSION,name:n,interfaces:s,directives:r,fields:i})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),s=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(s.length===0&&r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:K.INTERFACE_TYPE_EXTENSION,name:n,interfaces:s,directives:r,fields:i})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),s=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(s.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:K.UNION_TYPE_EXTENSION,name:n,directives:s,types:r})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),s=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(s.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:K.ENUM_TYPE_EXTENSION,name:n,directives:s,values:r})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),s=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(s.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:K.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:s,fields:r})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(v.AT);const s=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(t,{kind:K.DIRECTIVE_DEFINITION,description:n,name:s,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(v.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(br,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new Kf(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw Ie(this._lexer.source,n.start,`Expected ${ic(t)}, found ${Kn(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===v.NAME&&n.value===t)this.advanceLexer();else throw Ie(this._lexer.source,n.start,`Expected "${t}", found ${Kn(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===v.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return Ie(this._lexer.source,n.start,`Unexpected ${Kn(n)}.`)}any(t,n,s){this.expectToken(t);const r=[];for(;!this.expectOptionalToken(s);)r.push(n.call(this));return r}optionalMany(t,n,s){if(this.expectOptionalToken(t)){const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(s));return r}return[]}many(t,n,s){this.expectToken(t);const r=[];do r.push(n.call(this));while(!this.expectOptionalToken(s));return r}delimitedMany(t,n){this.expectOptionalToken(t);const s=[];do s.push(n.call(this));while(this.expectOptionalToken(t));return s}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(t!==void 0&&n.kind!==v.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw Ie(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Kn(e){const t=e.value;return ic(e.kind)+(t!=null?` "${t}"`:"")}function ic(e){return eh(e)?`"${e}"`:e}function bh(e){return`"${e.replace(Sh,Eh)}"`}const Sh=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Eh(e){return xh[e.charCodeAt(0)]}const xh=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Th=Object.freeze({});function kh(e,t,n=Xa){const s=new Map;for(const P of Object.values(K))s.set(P,Ih(t,P));let r,i=Array.isArray(e),o=[e],a=-1,c=[],l=e,u,d;const h=[],g=[];do{a++;const P=a===o.length,N=P&&c.length!==0;if(P){if(u=g.length===0?void 0:h[h.length-1],l=d,d=g.pop(),N)if(i){l=l.slice();let E=0;for(const[V,B]of c){const W=V-E;B===null?(l.splice(W,1),E++):l[W]=B}}else{l=Object.defineProperties({},Object.getOwnPropertyDescriptors(l));for(const[E,V]of c)l[E]=V}a=r.index,o=r.keys,c=r.edits,i=r.inArray,r=r.prev}else if(d){if(u=i?a:o[a],l=d[u],l==null)continue;h.push(u)}let A;if(!Array.isArray(l)){var w,b;ro(l)||Zn(!1,`Invalid AST Node: ${Yr(l)}.`);const E=P?(w=s.get(l.kind))===null||w===void 0?void 0:w.leave:(b=s.get(l.kind))===null||b===void 0?void 0:b.enter;if(A=E==null?void 0:E.call(t,l,u,d,h,g),A===Th)break;if(A===!1){if(!P){h.pop();continue}}else if(A!==void 0&&(c.push([u,A]),!P))if(ro(A))l=A;else{h.pop();continue}}if(A===void 0&&N&&c.push([u,l]),P)h.pop();else{var q;r={inArray:i,index:a,keys:o,edits:c,prev:r},i=Array.isArray(l),o=i?l:(q=n[l.kind])!==null&&q!==void 0?q:[],a=-1,c=[],d&&g.push(d),d=l}}while(r!==void 0);return c.length!==0?c[c.length-1][1]:e}function Ih(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function Rh(e){return kh(e,Nh)}const Ah=80,Nh={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>F(e.definitions,`

`)},OperationDefinition:{leave(e){const t=ne("(",F(e.variableDefinitions,", "),")"),n=F([e.operation,F([e.name,t]),F(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:s})=>e+": "+t+ne(" = ",n)+ne(" ",F(s," "))},SelectionSet:{leave:({selections:e})=>tt(e)},Field:{leave({alias:e,name:t,arguments:n,directives:s,selectionSet:r}){const i=ne("",e,": ")+t;let o=i+ne("(",F(n,", "),")");return o.length>Ah&&(o=i+ne(`(
`,es(F(n,`
`)),`
)`)),F([o,F(s," "),r]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+ne(" ",F(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>F(["...",ne("on ",e),F(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:s,selectionSet:r})=>`fragment ${e}${ne("(",F(n,", "),")")} on ${t} ${ne("",F(s," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?Xf(e):bh(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+F(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+F(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+ne("(",F(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>ne("",e,`
`)+F(["schema",F(t," "),tt(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>ne("",e,`
`)+F(["scalar",t,F(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:s,fields:r})=>ne("",e,`
`)+F(["type",t,ne("implements ",F(n," & ")),F(s," "),tt(r)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:s,directives:r})=>ne("",e,`
`)+t+(oo(n)?ne(`(
`,es(F(n,`
`)),`
)`):ne("(",F(n,", "),")"))+": "+s+ne(" ",F(r," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:s,directives:r})=>ne("",e,`
`)+F([t+": "+n,ne("= ",s),F(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:s,fields:r})=>ne("",e,`
`)+F(["interface",t,ne("implements ",F(n," & ")),F(s," "),tt(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:s})=>ne("",e,`
`)+F(["union",t,F(n," "),ne("= ",F(s," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:s})=>ne("",e,`
`)+F(["enum",t,F(n," "),tt(s)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>ne("",e,`
`)+F([t,F(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:s})=>ne("",e,`
`)+F(["input",t,F(n," "),tt(s)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:s,locations:r})=>ne("",e,`
`)+"directive @"+t+(oo(n)?ne(`(
`,es(F(n,`
`)),`
)`):ne("(",F(n,", "),")"))+(s?" repeatable":"")+" on "+F(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>F(["extend schema",F(e," "),tt(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>F(["extend scalar",e,F(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:s})=>F(["extend type",e,ne("implements ",F(t," & ")),F(n," "),tt(s)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:s})=>F(["extend interface",e,ne("implements ",F(t," & ")),F(n," "),tt(s)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>F(["extend union",e,F(t," "),ne("= ",F(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>F(["extend enum",e,F(t," "),tt(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>F(["extend input",e,F(t," "),tt(n)]," ")}};function F(e,t=""){var n;return(n=e==null?void 0:e.filter(s=>s).join(t))!==null&&n!==void 0?n:""}function tt(e){return ne(`{
`,es(F(e,`
`)),`
}`)}function ne(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function es(e){return ne("  ",e.replace(/\n/g,`
  `))}function oo(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}class an extends Error{constructor(n,s){const r=`${an.extractMessage(n)}: ${JSON.stringify({response:n,request:s})}`;super(r);Jt(this,"response");Jt(this,"request");Object.setPrototypeOf(this,an.prototype),this.response=n,this.request=s,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,an)}static extractMessage(n){var s,r;return((r=(s=n.errors)==null?void 0:s[0])==null?void 0:r.message)??`GraphQL Error (Code: ${String(n.status)})`}}const ao=e=>e.toUpperCase(),Js=e=>typeof e=="function"?e():e,oc=(e,t)=>e.map((n,s)=>[n,t[s]]),Yt=e=>{let t={};return e instanceof Headers?t=Oh(e):Array.isArray(e)?e.forEach(([n,s])=>{n&&s!==void 0&&(t[n]=s)}):e&&(t=e),t},Oh=e=>{const t={};return e.forEach((n,s)=>{t[s]=n}),t},Ch=e=>{try{const t=e();return Ph(t)?t.catch(n=>co(n)):t}catch(t){return co(t)}},co=e=>e instanceof Error?e:new Error(String(e)),Ph=e=>typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"&&"catch"in e&&typeof e.catch=="function"&&"finally"in e&&typeof e.finally=="function",Qr=e=>{throw new Error(`Unhandled case: ${String(e)}`)},ts=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),Dh=(e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0},Mh=(e,t,n)=>e.query?e:{query:e,variables:t,requestHeaders:n,signal:void 0},lo="Accept",Er="Content-Type",xr="application/json",ac="application/graphql-response+json",uo=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),Uh=e=>{const t=e.toLowerCase();return t.includes(ac)||t.includes(xr)},fo=e=>{try{if(Array.isArray(e))return{_tag:"Batch",executionResults:e.map(ho)};if(ts(e))return{_tag:"Single",executionResult:ho(e)};throw new Error(`Invalid execution result: result is not object or array. 
Got:
${String(e)}`)}catch(t){return t}},ho=e=>{if(typeof e!="object"||e===null)throw new Error("Invalid execution result: result is not object");let t,n,s;if("errors"in e){if(!ts(e.errors)&&!Array.isArray(e.errors))throw new Error("Invalid execution result: errors is not plain object OR array");t=e.errors}if("data"in e){if(!ts(e.data)&&e.data!==null)throw new Error("Invalid execution result: data is not plain object");n=e.data}if("extensions"in e){if(!ts(e.extensions))throw new Error("Invalid execution result: extensions is not plain object");s=e.extensions}return{data:n,errors:t,extensions:s}},Lh=e=>e._tag==="Batch"?e.executionResults.some(po):po(e.executionResult),po=e=>Array.isArray(e.errors)?e.errors.length>0:!!e.errors,cc=e=>typeof e=="object"&&e!==null&&"kind"in e&&e.kind===K.OPERATION_DEFINITION,Fh=e=>{var s;let t;const n=e.definitions.filter(cc);return n.length===1&&(t=(s=n[0].name)==null?void 0:s.value),t},qh=e=>{let t=!1;const n=e.definitions.filter(cc);return n.length===1&&(t=n[0].operation===Bt.MUTATION),t},Gs=(e,t)=>{const n=typeof e=="string"?e:Rh(e);let s=!1,r;if(t)return{expression:n,isMutation:s,operationName:r};const i=Ch(()=>typeof e=="string"?vh(e):e);return i instanceof Error?{expression:n,isMutation:s,operationName:r}:(r=Fh(i),s=qh(i),{expression:n,operationName:r,isMutation:s})},Xr=JSON,Ys=async e=>{const t={...e,method:e.request._tag==="Single"?e.request.document.isMutation?"POST":ao(e.method??"post"):e.request.hasMutations?"POST":ao(e.method??"post"),fetchOptions:{...e.fetchOptions,errorPolicy:e.fetchOptions.errorPolicy??"none"}},s=await jh(t.method)(t);if(!s.ok)return new an({status:s.status,headers:s.headers},{query:e.request._tag==="Single"?e.request.document.expression:e.request.query,variables:e.request.variables});const r=await $h(s,e.fetchOptions.jsonSerializer??Xr);if(r instanceof Error)throw r;const i={status:s.status,headers:s.headers};if(Lh(r)&&t.fetchOptions.errorPolicy==="none"){const o=r._tag==="Batch"?{...r.executionResults,...i}:{...r.executionResult,...i};return new an(o,{query:e.request._tag==="Single"?e.request.document.expression:e.request.query,variables:e.request.variables})}switch(r._tag){case"Single":return{...i,...go(t)(r.executionResult)};case"Batch":return{...i,data:r.executionResults.map(go(t))};default:Qr(r)}},go=e=>t=>({extensions:t.extensions,data:t.data,errors:e.fetchOptions.errorPolicy==="all"?t.errors:void 0}),$h=async(e,t)=>{const n=e.headers.get(Er),s=await e.text();return n&&Uh(n)?fo(t.parse(s)):fo(s)},jh=e=>async t=>{const n=new Headers(t.headers);let s=null,r;n.has(lo)||n.set(lo,[ac,xr].join(", ")),e==="POST"?(r=(t.fetchOptions.jsonSerializer??Xr).stringify(Bh(t)),typeof r=="string"&&!n.has(Er)&&n.set(Er,xr)):s=Hh(t);const i={method:e,headers:n,body:r,...t.fetchOptions};let o=new URL(t.url),a=i;if(t.middleware){const l=await Promise.resolve(t.middleware({...i,url:t.url,operationName:t.request._tag==="Single"?t.request.document.operationName:void 0,variables:t.request.variables})),{url:u,...d}=l;o=new URL(u),a=d}return s&&s.forEach((l,u)=>{o.searchParams.append(u,l)}),await(t.fetch??fetch)(o,a)},Bh=e=>{switch(e.request._tag){case"Single":return{query:e.request.document.expression,variables:e.request.variables,operationName:e.request.document.operationName};case"Batch":return oc(e.request.query,e.request.variables??[]).map(([t,n])=>({query:t,variables:n}));default:throw Qr(e.request)}},Hh=e=>{var s;const t=e.fetchOptions.jsonSerializer??Xr,n=new URLSearchParams;switch(e.request._tag){case"Single":return n.append("query",uo(e.request.document.expression)),e.request.variables&&n.append("variables",t.stringify(e.request.variables)),e.request.document.operationName&&n.append("operationName",e.request.document.operationName),n;case"Batch":{const r=((s=e.request.variables)==null?void 0:s.map(a=>t.stringify(a)))??[],i=e.request.query.map(uo),o=oc(i,r).map(([a,c])=>({query:a,variables:c}));return n.append("query",t.stringify(o)),n}default:throw Qr(e.request)}};class Vh{constructor(t,n={}){Jt(this,"url");Jt(this,"requestConfig");Jt(this,"rawRequest",async(...t)=>{const[n,s,r]=t,i=Mh(n,s,r),{headers:o,fetch:a=globalThis.fetch,method:c="POST",requestMiddleware:l,responseMiddleware:u,excludeOperationName:d,...h}=this.requestConfig,{url:g}=this;i.signal!==void 0&&(h.signal=i.signal);const w=Gs(i.query,d),b=await Ys({url:g,request:{_tag:"Single",document:w,variables:i.variables},headers:{...Yt(Js(o)),...Yt(i.requestHeaders)},fetch:a,method:c,fetchOptions:h,middleware:l});if(u&&await u(b,{operationName:w.operationName,variables:s,url:this.url}),b instanceof Error)throw b;return b});this.url=t,this.requestConfig=n}async request(t,...n){const[s,r]=n,i=zh(t,s,r),{headers:o,fetch:a=globalThis.fetch,method:c="POST",requestMiddleware:l,responseMiddleware:u,excludeOperationName:d,...h}=this.requestConfig,{url:g}=this;i.signal!==void 0&&(h.signal=i.signal);const w=Gs(i.document,d),b=await Ys({url:g,request:{_tag:"Single",document:w,variables:i.variables},headers:{...Yt(Js(o)),...Yt(i.requestHeaders)},fetch:a,method:c,fetchOptions:h,middleware:l});if(u&&await u(b,{operationName:w.operationName,variables:i.variables,url:this.url}),b instanceof Error)throw b;return b.data}async batchRequests(t,n){const s=Dh(t,n),{headers:r,excludeOperationName:i,...o}=this.requestConfig;s.signal!==void 0&&(o.signal=s.signal);const a=s.documents.map(({document:h})=>Gs(h,i)),c=a.map(({expression:h})=>h),l=a.some(({isMutation:h})=>h),u=s.documents.map(({variables:h})=>h),d=await Ys({url:this.url,request:{_tag:"Batch",operationName:void 0,query:c,hasMutations:l,variables:u},headers:{...Yt(Js(r)),...Yt(s.requestHeaders)},fetch:this.requestConfig.fetch??globalThis.fetch,method:this.requestConfig.method||"POST",fetchOptions:o,middleware:this.requestConfig.requestMiddleware});if(this.requestConfig.responseMiddleware&&await this.requestConfig.responseMiddleware(d,{operationName:void 0,variables:u,url:this.url}),d instanceof Error)throw d;return d.data}setHeaders(t){return this.requestConfig.headers=t,this}setHeader(t,n){const{headers:s}=this.requestConfig;return s?s[t]=n:this.requestConfig.headers={[t]:n},this}setEndpoint(t){return this.url=t,this}}async function Wh(e,t,...n){const s=Kh(e,t,...n);return new Vh(s.url).request({...s})}const zh=(e,t,n)=>e.document?e:{document:e,variables:t,requestHeaders:n,signal:void 0},Kh=(e,t,...n)=>{const[s,r]=n;return typeof e=="string"?{url:e,document:t,variables:s,requestHeaders:r,signal:void 0}:e},Jh=`
subscription{
  tagSubscribe(equipment: ["eqp"], tags: ["main"]) {
        name
        timestamp
        type
        value
    }
}
`,Gh=`
subscription{
  almSubscribe{
    name,
    timestamp,
    value,
    state,
    severity,
    ack
  }
}
`,Yh=`
mutation AlmAck($almName: String!) {
    almAck(almName: $almName)
}`;class Qs{constructor(){this.connections=[],this.visited=!1}evaluate(t,n){if(!this.visited)for(var[s,n]of this.connections)s.evaluate(t,n)}}var Dt,Tr,kr;class We{constructor(t){si(this,Dt);this.name=t,this.connections_1=[],this.connections_2=[]}evaluate(t,n){this.visited||(this.visited=!0,t[this.name].term_1=!1,t[this.name].term_2=!1,n==1?(t[this.name].term_1=!0,gn(this,Dt,Tr).call(this,t),t[this.name].close&&(gn(this,Dt,kr).call(this,t),t[this.name].term_2=!0)):n==2?(t[this.name].term_2=!0,gn(this,Dt,kr).call(this,t),t[this.name].close&&(gn(this,Dt,Tr).call(this,t),t[this.name].term_1=!0)):console.error("node ",this.name," got unknown terminal ",n))}}Dt=new WeakSet,Tr=function(t){for(var[n,s]of this.connections_1)n.evaluate(t,s)},kr=function(t){for(var[n,s]of this.connections_2)n.evaluate(t,s)};class Qh{constructor(t,n){this.nodes=t,this.main_node=n}calculate(t){this.main_node.evaluate(t,1);for(var n of this.nodes)!n.visited&&n.name!=null&&(t[n.name].term_1=!1,t[n.name].term_2=!1),n.visited=!1}}const Xh={id:"grid_container"},Zh={class:"header-content"},ep={class:"user-section"},tp={class:"username"},np={id:"alarms"},sp={class:"alarms-list"},rp={class:"alarm-header"},ip=["data-sort"],op=["data-sort"],ap=["data-sort"],cp=["data-sort"],lp=["data-sort"],up=["data-sort"],dp=["onClick"],fp={__name:"DashboardView",setup(e){var t={brk_10:{close:!1,term_1:!0,term_2:!0},brk_11:{close:!1,term_1:!0,term_2:!0},sec_1:{close:!1,term_1:!0,term_2:!0},brk_20:{close:!1,term_1:!0,term_2:!0},brk_21:{close:!1,term_1:!0,term_2:!0},sec_2:{close:!1,term_1:!0,term_2:!0},brk_30:{close:!1,term_1:!0,term_2:!0},brk_31:{close:!1,term_1:!0,term_2:!0},sec_3:{close:!1,term_1:!0,term_2:!0},brk_40:{close:!1,term_1:!0,term_2:!0},brk_41:{close:!1,term_1:!0,term_2:!0},sec_4:{close:!1,term_1:!0,term_2:!0},brk_d:{close:!1,term_1:!0,term_2:!0}};const n=sr({}),s=ct(null),r=ct("timestamp"),i=ct("desc"),o=ct({name:200,value:100,state:100,ack:100,severity:100,timestamp:200}),a=ct(!1),c=ct(null),l=ct(0),u=ct(0),d=(te,M)=>{a.value=!0,c.value=M,l.value=te.pageX,u.value=o.value[M],document.addEventListener("mousemove",h),document.addEventListener("mouseup",g)},h=te=>{if(!a.value)return;const M=te.pageX-l.value;o.value[c.value]=Math.max(50,u.value+M)},g=()=>{a.value=!1,c.value=null,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g)},w=Ye(()=>Object.entries(n.value).sort((M,_)=>{let R=M[1][r.value],k=_[1][r.value];return r.value==="timestamp"&&(R=new Date(R),k=new Date(k)),R<k?i.value==="asc"?-1:1:R>k?i.value==="asc"?1:-1:0})),b=te=>{r.value===te?i.value=i.value==="asc"?"desc":"asc":(r.value=te,i.value="asc")};var q=new We("brk_10"),P=new We("brk_11"),N=new We("brk_20"),A=new We("brk_21"),E=new We("brk_30"),V=new We("brk_31"),B=new We("brk_40"),W=new We("brk_41"),ae=new We("sec_1"),ie=new We("sec_2"),he=new We("sec_3"),Ee=new We("sec_4"),Ae=new Qs,xe=new Qs,Me=new Qs,z=new We("brk_d");q.connections_1=[[Ae,1]],q.connections_2=[[ae,1]],P.connections_1=[[ae,2]],P.connections_2=[[xe,1]],ae.connections_1=[[q,2]],ae.connections_2=[[P,1]],N.connections_1=[[Ae,1]],N.connections_2=[[ie,1]],A.connections_1=[[ie,2]],A.connections_2=[[Me,1]],ie.connections_1=[[N,2]],ie.connections_2=[[A,1]],E.connections_1=[[xe,1]],E.connections_2=[[he,1]],V.connections_1=[[he,2]],V.connections_2=[[z,1]],he.connections_1=[[E,2]],he.connections_2=[[V,1]],B.connections_1=[[Me,1]],B.connections_2=[[Ee,1]],W.connections_1=[[Ee,2]],W.connections_2=[[z,1]],Ee.connections_1=[[B,2]],Ee.connections_2=[[W,1]],xe.connections=[[P,2],[E,1]],Me.connections=[[A,2],[B,1]],z.connections_1=[[V,2],[W,2]],Ae.connections=[[q,1],[N,1]];var G=new Qh([q,P,N,A,E,V,B,W,ae,ie,he,Ee,xe,Me,z],Ae);G.calculate(t);const I=sr({...t}),U=Wr(),Z=ct(""),me=async()=>{try{const te=await Ct.getAccessToken();if(!te){console.error("No access token available");return}s.value=qf({url:`https://api.scada.mzaniolo.net/ws?token=${te}`}),ee()}catch(te){console.error("Error initializing WebSocket:",te)}},ee=async()=>{if(!s.value)return;const te=async()=>{try{const _=s.value.iterate({query:Jh});for await(const R of _){let k=R.data.tagSubscribe.name,$=R.data.tagSubscribe.value,oe=R.data.tagSubscribe.timestamp;t[k].close=!!$,G.calculate(t),I.value={...t}}}catch(_){console.error("Error in measurements subscription:",_)}},M=async()=>{try{const _=s.value.iterate({query:Gh});for await(const R of _){let k=R.data.almSubscribe.name,$=R.data.almSubscribe.timestamp;if(R.data.almSubscribe.state==="Reset"&&R.data.almSubscribe.ack==="Ack"&&(!n.value[k]||new Date($)>new Date(n.value[k].timestamp))){const{[k]:oe,...ve}=n.value;n.value=ve,console.log("alms 1: ",n.value),console.log("new alms: ",R.data.almSubscribe);continue}(!n.value[k]||new Date($)>new Date(n.value[k].timestamp))&&(n.value={...n.value,[k]:R.data.almSubscribe})}}catch(_){console.error("Error in alarms subscription:",_)}};Promise.all([te(),M()]).catch(_=>{console.error("Error in subscriptions:",_)})},ye=()=>{n.value={}},Fe=async te=>{try{const M=await Ct.getAccessToken();if(!M){console.error("No access token available");return}const _=await Wh({url:"https://api.scada.mzaniolo.net/",document:Yh,variables:{almName:te},requestHeaders:{Authorization:`Bearer ${M}`}})}catch(M){console.error("Error acknowledging alarm:",M)}};bs(async()=>{me();try{const te=await Ct.getProfile();Z.value=(te==null?void 0:te.name)||"User"}catch(te){console.error("Error fetching profile:",te),Z.value="User"}});const je=async()=>{try{await Ct.logout(),U.push("/login")}catch(te){console.error("Logout error:",te)}};return(te,M)=>(Xe(),rt("div",Xh,[j("header",null,[j("div",Zh,[M[12]||(M[12]=j("h1",null,"Demo Substation",-1)),j("div",ep,[j("span",tp,kt(Z.value),1),j("button",{onClick:je,class:"logout-button"},"Logout")])])]),j("main",null,[fe(zn,{id:"sec_brk_1",brk_1:"brk_10",brk_2:"brk_11",sec:"sec_1",state:I.value},null,8,["state"]),fe(zn,{id:"sec_brk_3",brk_1:"brk_30",brk_2:"brk_31",sec:"sec_3",state:I.value},null,8,["state"]),fe(Wn,{id:"l_3",e:I.value.brk_30.term_1},null,8,["e"]),fe(Zi,{id:"bus_1",e:I.value.brk_30.term_1||I.value.brk_11.term_2},null,8,["e"]),fe(zn,{id:"sec_brk_2",brk_1:"brk_20",brk_2:"brk_21",sec:"sec_2",state:I.value},null,8,["state"]),fe(Wn,{id:"l_2",e:I.value.brk_21.term_1&&I.value.brk_21.close},null,8,["e"]),fe(zn,{id:"sec_brk_4",brk_1:"brk_40",brk_2:"brk_41",sec:"sec_4",state:I.value},null,8,["state"]),fe(Zi,{id:"bus_2",e:I.value.brk_40.term_1||I.value.brk_21.term_2},null,8,["e"]),fe(vr,{id:"brk_d",name:"brk_d",state:I.value},null,8,["state"]),fe(Wn,{id:"l_34",e:I.value.brk_d.term_1},null,8,["e"]),fe(Wn,{id:"l_12",e:I.value.brk_10.term_1},null,8,["e"]),fe(Df,{id:"src",e:""})]),j("div",np,[j("div",{class:"alarms-header"},[M[13]||(M[13]=j("h3",null,"Last alarms",-1)),j("button",{onClick:ye,class:"clear-button"},"Clear Alarms")]),j("div",sp,[j("div",rp,[j("div",{class:"header-cell",style:we({width:o.value.name+"px"})},[j("span",{onClick:M[0]||(M[0]=_=>b("name")),class:"alarm-field sortable","data-sort":r.value==="name"?i.value:null},"Name",8,ip),j("div",{class:"resize-handle",onMousedown:M[1]||(M[1]=_=>d(_,"name"))},null,32)],4),j("div",{class:"header-cell",style:we({width:o.value.value+"px"})},[j("span",{onClick:M[2]||(M[2]=_=>b("value")),class:"alarm-field sortable","data-sort":r.value==="value"?i.value:null},"Value",8,op),j("div",{class:"resize-handle",onMousedown:M[3]||(M[3]=_=>d(_,"value"))},null,32)],4),j("div",{class:"header-cell",style:we({width:o.value.state+"px"})},[j("span",{onClick:M[4]||(M[4]=_=>b("state")),class:"alarm-field sortable","data-sort":r.value==="state"?i.value:null},"State",8,ap),j("div",{class:"resize-handle",onMousedown:M[5]||(M[5]=_=>d(_,"state"))},null,32)],4),j("div",{class:"header-cell",style:we({width:o.value.ack+"px"})},[j("span",{onClick:M[6]||(M[6]=_=>b("ack")),class:"alarm-field sortable","data-sort":r.value==="ack"?i.value:null},"Ack",8,cp),j("div",{class:"resize-handle",onMousedown:M[7]||(M[7]=_=>d(_,"ack"))},null,32)],4),j("div",{class:"header-cell",style:we({width:o.value.severity+"px"})},[j("span",{onClick:M[8]||(M[8]=_=>b("severity")),class:"alarm-field sortable","data-sort":r.value==="severity"?i.value:null},"Severity",8,lp),j("div",{class:"resize-handle",onMousedown:M[9]||(M[9]=_=>d(_,"severity"))},null,32)],4),j("div",{class:"header-cell",style:we({width:o.value.timestamp+"px"})},[j("span",{onClick:M[10]||(M[10]=_=>b("timestamp")),class:"alarm-field sortable","data-sort":r.value==="timestamp"?i.value:null},"Timestamp",8,up),j("div",{class:"resize-handle",onMousedown:M[11]||(M[11]=_=>d(_,"timestamp"))},null,32)],4)]),(Xe(!0),rt(pt,null,vl(w.value,(_,R)=>(Xe(),rt("li",{onClick:k=>Fe(_[1].name),class:fn([{acknowledged:_[1].ack},"alarm-item"])},[j("div",{class:"alarm-cell",style:we({width:o.value.name+"px"})},kt(_[1].name),5),j("div",{class:"alarm-cell",style:we({width:o.value.value+"px"})},kt(_[1].value),5),j("div",{class:"alarm-cell",style:we({width:o.value.state+"px"})},kt(_[1].state),5),j("div",{class:"alarm-cell",style:we({width:o.value.ack+"px"})},kt(_[1].ack),5),j("div",{class:"alarm-cell",style:we({width:o.value.severity+"px"})},kt(_[1].severity),5),j("div",{class:"alarm-cell",style:we({width:o.value.timestamp+"px"})},kt(_[1].timestamp),5)],10,dp))),256))])])]))}},hp={class:"callback-container"},pp={__name:"CallbackView",setup(e){const t=Wr();return bs(async()=>{try{await Ct.handleCallback(),t.push("/dashboard")}catch(n){console.error("Error handling callback:",n),t.push("/")}}),(n,s)=>(Xe(),rt("div",hp,s[0]||(s[0]=[j("div",{class:"loading-spinner"}," Processing login... ",-1)])))}},gp=Ja(pp,[["__scopeId","data-v-839429c2"]]),_p=[{path:"/",name:"login",component:If},{path:"/callback",name:"callback",component:gp},{path:"/dashboard",name:"dashboard",component:fp,meta:{requiresAuth:!0}}],Zr=Fd({history:hd("/sample-frontend/pr-preview/pr-1"),routes:_p});Zr.beforeEach(async(e,t,n)=>{const s=await Ct.isAuthenticated();e.meta.requiresAuth&&!s?n("/"):n()});const mp=()=>{const t=new URLSearchParams(window.location.search).get("redirect");if(t){const n=new URL(window.location);n.searchParams.delete("redirect"),t.startsWith("/callback")?window.location.replace(t):Zr.push(t),t.startsWith("/callback")||window.history.replaceState({},"",n.toString())}},lc=Cu(Mu);lc.use(Zr);lc.mount("#app");mp();
